{"version":3,"sources":["LeftMenu.src.js"],"names":["$","leftMenuOrigin","sessionStorage","getItem","data","myHtml","html","removeClass","each","dataObj","index","item","PID","append","ID","PageUrl","ModuleName","parent","length","children","addClass","setItem","document","on","e","self","this","url","attr","undefined","parents","setTimeout","moving","animate","scrollTop","offset","top","ex","window","getElementById","src","preventDefault","p","trigger","$myA","liAry","get","reverse","index2","item2","text","htmlEncode","value","htmlDecode","changeMenuPath","pathname","purePathname","replace","isFound","isLoop","divElement","frames","mainFrame","getElementsByClassName","innerHTML","pathObjString","createElement","pathObj","JSON","parse","lastPage","lastPageID","menuPath","menuPathID","stringify","pathObj2","lastPage2","lastPageID2","divElement2","focus"],"mappings":"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","file":"LeftMenu.min.js","sourcesContent":["$(function () {\r\n    var heightLightAry = [];\r\n\r\n    var leftMenuOrigin = sessionStorage.getItem(\"leftMenuOrigin\");\r\n\r\n    if (leftMenuOrigin == data) {\r\n        var myHtml = sessionStorage.getItem(\"leftMenu\", data);\r\n        $(\"#ulRoot\").html(myHtml);\r\n        $(\"span\").removeClass(\"here\");\r\n        $(\"li\").removeClass(\"hereblock\");\r\n    }\r\n    else {\r\n        $.each(dataObj, function (index, item) {\r\n            //var myStyle = \"\";\r\n            //if (item.PageUrl !== \"\") {\r\n                //myStyle = \"color:blue;\";\r\n                //heightLightAry.push(\"x\" + item.ID);\r\n            //}\r\n\r\n            if (item.PID === 0) {\r\n                //$(\"#ulRoot\").append('<li id=\"x' + item.ID + '\"><a href=\"javascript:void(0);\" style=\"' + myStyle + '\"' + ' pageurl=\"' + item.PageUrl + '\">' + item.ModuleName + '</a></li>');\r\n                //$(\"#ulRoot\").append('<li id=\"x' + item.ID + '\"><a href=\"javascript:void(0);\" pageurl=\"' + item.PageUrl + '\">' + item.ModuleName + '</a></li>');\r\n                $(\"#ulRoot\").append('<li id=\"x' + item.ID + '\"><span class=\"leftReplaceA\" pageurl=\"' + item.PageUrl + '\">' + item.ModuleName + '</span></li>');\r\n            }\r\n            else {\r\n                var parent = $(\"#x\" + item.PID + \" ul\");\r\n                if (parent.length === 0) {\r\n\r\n                    $(\"#x\" + item.PID).append('<ul class=\"line\"></ul>');\r\n                }\r\n                //$(\"#x\" + item.PID + \" ul:first\").append('<li id=\"x' + item.ID + '\"><a href=\"javascript:void(0);\" style=\"' + myStyle + '\"' + ' pageurl=\"' + item.PageUrl + '\">' + item.ModuleName + '</a></li>');\r\n                $(\"#x\" + item.PID + \" ul:first\").append('<li id=\"x' + item.ID + '\"><span class=\"leftReplaceA\" pageurl=\"' + item.PageUrl + '\">' + item.ModuleName + '</span></li>');\r\n\r\n            }\r\n        });\r\n\r\n        $.each($(\"li\"), function (index, item) {\r\n            if ($(item).children('ul').length !== 0) {\r\n                $(item).addClass('less');\r\n            }\r\n        });\r\n    }\r\n\r\n    //$.each(heightLightAry, function (index, item) {\r\n    //    $(\"#\" + item).children('span:first').css(\"color\", \"blue\");\r\n    //});\r\n\r\n    //sessionStorage.removeItem(\"leftMenuOrigin\");\r\n    //sessionStorage.removeItem(\"leftMenu\");\r\n    sessionStorage.setItem(\"leftMenuOrigin\", data);\r\n    sessionStorage.setItem(\"leftMenu\", $(\"#ulRoot\").html());\r\n\r\n    $(document).on(\"click\", \"span\", function (e) {\r\n        var self = $(this);\r\n        var url = self.attr(\"pageurl\");\r\n        if (url === \"\" || url === undefined) {\r\n            return;\r\n        }\r\n        var myHtml = \"\";\r\n        var liAry = $(this).parents('li');\r\n\r\n        try {\r\n            setTimeout(function () {\r\n                if (moving === false) {\r\n                    moving = true;\r\n                    $('html, body').animate({\r\n                        scrollTop: self.offset().top - 200\r\n                    }, 1000, function () {\r\n                        // Animation complete.\r\n                        moving = false;\r\n                    });\r\n                }\r\n            }, 0);\r\n        }\r\n        catch (ex) {\r\n\r\n        }\r\n\r\n        //var liAry = $(this).closest('li\r\n\r\n        //$.each(liAry.get().reverse(), function (index, item) {\r\n        //    var PageUrl = $(item).children('span:first').attr(\"pageurl\");\r\n        //    var ModuleName = $(item).children('span:first').text();\r\n        //    var href = PageUrl == \"\" ? \"javascript:void(0);\" : PageUrl;\r\n        //    if (index != liAry.length-1)\r\n        //        myHtml += '<a href=\"' + href + '\">' + ModuleName + \"</a>\";\r\n        //    else\r\n        //        myHtml += ModuleName;\r\n        //});\r\n\r\n        //sessionStorage.removeItem(\"menuPath\");\r\n        //var lastPage = sessionStorage.getItem(\"menuPath\");\r\n        //if (lastPage !== undefined) {\r\n        //    sessionStorage.setItem(\"lastMenuPath\", lastPage);\r\n        //}\r\n\r\n        //sessionStorage.setItem(\"menuPath\", myHtml + '<img id=\"loading\" src=\"/images/loading001.gif\" style=\"display:none;margin-left:5px;\" />');\r\n        //window.location.replace('url');\r\n        window.parent.document.getElementById('mainFrame').src = $(this).attr(\"pageurl\");\r\n        $(\"span\").removeClass(\"here\");\r\n        $(\"li\").removeClass(\"hereblock\");\r\n        $(this).addClass(\"here\");\r\n        $(this).parents('ul:first').parents('li:first').addClass(\"hereblock\");\r\n        //$(this).closest('ul').closest('li').addClass(\"hereblock\");\r\n\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    $(document).on(\"click\", \".add\", function (e) {\r\n        $(this).removeClass(\"add\");\r\n        $(this).addClass(\"less\");\r\n        $(this).children(\"ul:first\").removeClass(\"hidden\");\r\n        sessionStorage.setItem(\"leftMenu\", $(\"#ulRoot\").html());\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    $(document).on(\"click\", \".less\", function (e) {\r\n        $(this).removeClass(\"less\");\r\n        $(this).addClass(\"add\");\r\n        $(this).children(\"ul:first\").addClass(\"hidden\");\r\n        sessionStorage.setItem(\"leftMenu\", $(\"#ulRoot\").html());\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    if (p !== \"\") {\r\n        $(\"a[pageurl='\" + p + \"']\").trigger(\"click\");\r\n    }\r\n\r\n    setTimeout(function () {\r\n        $.each(dataObj, function (index, item) {\r\n                var $myA = $('#x' + item.ID).children('span:first');\r\n                var self = $($myA);\r\n                var myHtml = \"\";\r\n                var liAry = $myA.parents('li');\r\n\r\n                $.each(liAry.get().reverse(), function (index2, item2) {\r\n                    var PageUrl = $(item2).children('span:first').attr(\"pageurl\");\r\n                    var ModuleName = $(item2).children('span:first').text();\r\n                    //var href = PageUrl === \"\" ? \"javascript:void(0)\" : PageUrl;\r\n                    if (index2 != liAry.length - 1)\r\n                        //myHtml += '<a href=\"' + href + '\">' + ModuleName + \"</a>\";\r\n                        myHtml += '<span class=\"pathReplaceA\">' + ModuleName + \"</span>\";\r\n                    else\r\n                        myHtml += ModuleName;\r\n                });\r\n\r\n                $('#x' + item.ID).data(\"myHtml\", myHtml);\r\n        });\r\n\r\n    }, 0);\r\n});\r\n\r\nvar htmlEncode = function(value){\r\n    return $('<div/>').text(value).html();\r\n}\r\n\r\nvar htmlDecode = function(value){\r\n    return $('<div/>').html(value).text();\r\n}\r\n\r\nvar moving = false;\r\n\r\nvar changeMenuPath = function (pathname) {\r\n    pathname = pathname || \"\";\r\n    var purePathname = pathname.replace(/\\//g, \"\").replace(/\\./g, \"\").replace(/_/g, \"\").replace(/-/g, \"\");\r\n    var isFound = false;\r\n    var isLoop = true;\r\n\r\n    $.each(dataObj, function (index, item) {\r\n        if (isLoop === true && pathname == item.PageUrl) {\r\n            //console.log(item.ID);\r\n            isFound = true;\r\n            var $myA = $('#x' + item.ID).children('span:first');\r\n            var self = $($myA);\r\n            $(\"span\").removeClass(\"here\");\r\n            $(\"li\").removeClass(\"hereblock\");\r\n            $myA.addClass(\"here\");\r\n            $myA.parents('ul:first').parents('li:first').addClass(\"hereblock\");\r\n\r\n            try {\r\n                setTimeout(function () {\r\n                    if (moving === false) {\r\n                        moving = true;\r\n                        $('html, body').animate({\r\n                            scrollTop: self.offset().top - 200\r\n                        }, 1000, function () {\r\n                            moving = false;\r\n                        });\r\n                    }\r\n                }, 0);\r\n            }\r\n            catch (ex) {\r\n            }\r\n\r\n            //var myHtml = \"\";\r\n            //var liAry = $myA.parents('li');\r\n\r\n            //$.each(liAry.get().reverse(), function (index2, item2) {\r\n            //    var PageUrl = $(item2).children('span:first').attr(\"pageurl\");\r\n            //    var ModuleName = $(item2).children('span:first').text();\r\n            //    //var href = PageUrl === \"\" ? \"javascript:void(0)\" : PageUrl;\r\n            //    if (index2 != liAry.length - 1)\r\n            //        //myHtml += '<a href=\"' + href + '\">' + ModuleName + \"</a>\";\r\n            //        myHtml += '<span class=\"pathReplaceA\">' + ModuleName + \"</span>\";\r\n            //    else\r\n            //        myHtml += ModuleName;\r\n            //});\r\n            \r\n            // remeber last menupath\r\n            try {\r\n                var myHtml=\"\";\r\n                myHtml = $('#x' + item.ID).data('myHtml');\r\n                var divElement = window.parent.window.frames.mainFrame.window.document.getElementsByClassName('path')[0];\r\n                myHtml += '<img id=\"loading\" src=\"/images/loading001.gif\" style=\"display:none;margin-left:5px;\" />';\r\n                ////myHtml += '<img id=\"loading\" class=\"lazy\" data-original=\"/images/loading001.gif\"  style=\"display:none;margin-left:5px;\" />';\r\n                divElement.innerHTML = myHtml;\r\n                sessionStorage.setItem(\"menuPath\", myHtml);\r\n                sessionStorage.setItem(\"menuPathID\", item.ID);\r\n            }\r\n            catch (ex) {\r\n            }\r\n            isLoop = false;\r\n        }\r\n    });\r\n\r\n    if (isFound === false) {\r\n        var pathObjString = sessionStorage.getItem(\"pathObjString\");\r\n        var divElement = document.createElement(\"div\");\r\n        var pathObj = JSON.parse(pathObjString);\r\n        var lastPage = \"\";\r\n        var lastPageID = \"\";\r\n        if (pathObjString !== null) {\r\n            try {\r\n                if (pathObj[purePathname] === undefined) {\r\n                    lastPage = sessionStorage.getItem(\"menuPath\");\r\n                    lastPageID = sessionStorage.getItem(\"menuPathID\");\r\n                    divElement = window.parent.window.frames.mainFrame.window.document.getElementsByClassName('path')[0];\r\n                    divElement.innerHTML = lastPage;\r\n                    pathObj[purePathname] = {};\r\n                    pathObj[purePathname].menuPath = lastPage;\r\n                    pathObj[purePathname].menuPathID = lastPageID;\r\n                    sessionStorage.setItem(\"pathObjString\", JSON.stringify(pathObj));\r\n\r\n                }\r\n                else {\r\n                    divElement = window.parent.window.frames.mainFrame.window.document.getElementsByClassName('path')[0];\r\n                    divElement.innerHTML = pathObj[purePathname].menuPath;\r\n                    var $myA = $('#x' + pathObj[purePathname].menuPathID).children('span:first');\r\n                    $(\"span\").removeClass(\"here\");\r\n                    $(\"li\").removeClass(\"hereblock\");\r\n                    $myA.addClass(\"here\");\r\n                    $myA.parents('ul:first').parents('li:first').addClass(\"hereblock\");\r\n                    var self = $($myA);\r\n                    try {\r\n                        setTimeout(function () {\r\n                            if (moving === false) {\r\n                                moving = true;\r\n                                $('html, body').animate({\r\n                                    scrollTop: self.offset().top - 200\r\n                                }, 1000, function () {\r\n                                    // Animation complete.\r\n                                    moving = false;\r\n                                });\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    catch (ex) {\r\n                    }\r\n                }\r\n            }\r\n            catch (ex) {\r\n            }\r\n        }\r\n        else {\r\n            try {\r\n                var pathObj2 = {};\r\n                var lastPage2 = sessionStorage.getItem(\"menuPath\");\r\n                var lastPageID2 = sessionStorage.getItem(\"menuPathID\");\r\n                var divElement2 = window.parent.window.frames.mainFrame.window.document.getElementsByClassName('path')[0];\r\n                divElement2.innerHTML = lastPage2;\r\n                pathObj2[purePathname] = {};\r\n                pathObj2[purePathname].menuPath = lastPage2;\r\n                pathObj2[purePathname].menuPathID = lastPageID2;\r\n                sessionStorage.setItem(\"pathObjString\", JSON.stringify(pathObj2));\r\n            }\r\n            catch (ex) {\r\n            }\r\n        }\r\n    }\r\n\r\n    window.parent.window.frames.mainFrame.window.focus();\r\n};\r\n\r\n//$(function () {\r\n//    //$(\"img\").lazyload({ effect: \"fadeIn\" });\r\n//    $(\"img.lazy\").lazyload();\r\n//});"]}