{"version":3,"sources":["LeftMenu.src.js"],"names":["menuCallback","selectedNode","window","parent","document","getElementById","src","pg","GenMenuRecursive","nowNode","innerNode","myParent","c","i","length","P","push","forEach","item","angular","module","controller","$scope","leftMenu","localStorage","getItem","leftMenuObj","JSON","parse","undefined","myTreeDataString","treedata","lastNode","rtn","setItem","myTreeDataObj","stringify","bootstrap"],"mappings":";;AAAA,GAAIA,cAAe,SAAUC,GACzBC,OAAOC,OAAOC,SAASC,eAAe,YAAYC,IAAML,EAAaM,IAsBrEC,iBAAmB,SAAUC,EAASC,GACtC,GAAIC,EACJD,GAAUE,EAAIF,EAAUE,KACxB,KAAK,GAAIC,GAAI,EAAGA,GAAKH,EAAUE,EAAEE,OAAS,EAAID,IACtCJ,EAAQM,GAAKL,EAAUE,EAAEC,GAAGA,IAC5BF,EAAWD,EAAUE,EAAEC,GAIf,OAAZF,GACAA,EAASC,EAAID,EAASC,MACtBD,EAASC,EAAEI,KAAKP,IAGhBC,EAAUE,EAAEK,QAAQ,SAAUC,GAC1BV,iBAAiBC,EAASS,KAKtCC,SAAQC,OAAO,SAAU,oBAChBC,WAAW,gBAAiB,SAAU,SAAUC,GAE7C,GAEIC,IAFiBC,aAAaC,QAAQ,kBAE3BD,aAAaC,QAAQ,aAChCC,EAAcC,KAAKC,MAAML,EAE7B,IAAgBM,QAAZN,GAAyBO,kBAAoBP,EAC7CD,EAAOS,SAAWL,MAEjB,CACD,GAAIM,MACAC,IAEJT,cAAaU,QAAQ,iBAAkBJ,kBAEvCK,cAAclB,QAAQ,SAAUC,GACd,GAAVA,EAAKH,GACLkB,EAAIjB,KAAKE,GACTc,EAAWd,EACXc,EAASpB,EAAIoB,EAASpB,OAGN,MAAZoB,IACIA,EAASnB,GAAKK,EAAKH,GACnBiB,EAASpB,EAAIoB,EAASpB,MACtBoB,EAASpB,EAAEI,KAAKE,IAGhBV,iBAAiBU,EAAMc,MAOvCV,EAAOS,SAAWE,EAClBT,aAAaU,QAAQ,WAAYP,KAAKS,UAAUH,QA2DhEd,QAAQkB,UAAUjC,SAASC,eAAe,UAAW","file":"LeftMenu.min.js","sourcesContent":["var menuCallback = function (selectedNode) {\r\n    window.parent.document.getElementById('cpIframe').src = selectedNode.pg;//\"/LogM/log.aspx\";\r\n    ////alert(url);\r\n    //var element = window.parent.document.getElementById('cpIframe');\r\n    ////alert(1);\r\n\r\n};\r\n\r\n//var doOP = function (url, postData, callback) {\r\n//    $.ajax({\r\n//        type: \"POST\",\r\n//        cache: false,\r\n//        url: url,\r\n//        data: postData\r\n//    })\r\n//    .done(function (data) {\r\n//        callback(data);\r\n//    })\r\n//    .fail(function (jqXHR, textStatus) {\r\n\r\n//    });\r\n//};\r\n\r\nvar GenMenuRecursive = function (nowNode, innerNode) {\r\n    var myParent;\r\n    innerNode.c = innerNode.c || [];\r\n    for (var i = 0; i <= innerNode.c.length - 1 ; i++) {\r\n        if (nowNode.P == innerNode.c[i].i) {\r\n            myParent = innerNode.c[i];\r\n        }\r\n    }\r\n\r\n    if (myParent != null) {\r\n        myParent.c = myParent.c || [];\r\n        myParent.c.push(nowNode);\r\n    }\r\n    else {\r\n        innerNode.c.forEach(function (item) {\r\n            GenMenuRecursive(nowNode, item);\r\n        });\r\n    }\r\n}\r\n\r\nangular.module(\"MyApp\", [\"angularTreeview\"])\r\n        .controller(\"MyController\", [\"$scope\", function ($scope) {\r\n\r\n            var leftMenuOrigin = localStorage.getItem(\"leftMenuOrigin\");\r\n            //var leftMenuOriginObj = JSON.parse(leftMenu);\r\n            var leftMenu = localStorage.getItem(\"leftMenu\");\r\n            var leftMenuObj = JSON.parse(leftMenu);\r\n\r\n            if (leftMenu != undefined && myTreeDataString == leftMenu) {\r\n                $scope.treedata = leftMenuObj;\r\n            }\r\n            else {\r\n                var lastNode = {};\r\n                var rtn = [];\r\n\r\n                localStorage.setItem(\"leftMenuOrigin\", myTreeDataString);\r\n\r\n                myTreeDataObj.forEach(function (item) {\r\n                    if (item.P == 0) {\r\n                        rtn.push(item);\r\n                        lastNode = item;\r\n                        lastNode.c = lastNode.c || [];\r\n                    }\r\n                    else {\r\n                        if (lastNode != null) {\r\n                            if (lastNode.i == item.P) {\r\n                                lastNode.c = lastNode.c || [];\r\n                                lastNode.c.push(item);\r\n                            }\r\n                            else {\r\n                                GenMenuRecursive(item, lastNode);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                });\r\n\r\n                $scope.treedata = rtn;\r\n                localStorage.setItem(\"leftMenu\", JSON.stringify(rtn));\r\n            }\r\n\r\n\r\n\r\n            //$scope.treedata = [];\r\n            //doOP(\"/LeftMenuOP.aspx\", {}, function (data) {\r\n            //    //alert(data);\r\n            //    //console.log(base64.decode(data));\r\n            //    //base64.encode('Base64 string to decode');\r\n            //    //JSON.parse(base64.decode(data));\r\n            //    //var myData = [];\r\n            //    //angular.copy(data, myData);\r\n\r\n            //    //var ary = [];\r\n            //    //angular.forEach(myData, function (value, key) {\r\n            //    //    ary.push(value);\r\n            //    //});\r\n\r\n            //    //angular.forEach(ary, function (value, key) {\r\n            //    //    value.children = [];\r\n            //    //});\r\n\r\n            //    //$scope.treedata = ary;\r\n            //    //$scope.$apply(function () {\r\n            //    //});\r\n\r\n            //    $scope.treedata = data;\r\n            //    $scope.$apply(function () {\r\n            //    });\r\n\r\n            //});\r\n\r\n\r\n            //[\r\n            //    {\r\n            //        \"label\": \"User\", \"id\": \"role1\", \"children\": [\r\n            //          { \"label\": \"subUser1\", \"id\": \"role11\", \"children\": [] },\r\n            //          {\r\n            //              \"label\": \"subUser2\", \"id\": \"role12\", \"children\": [\r\n            //                {\r\n            //                    \"label\": \"subUser2-1\", \"id\": \"role121\", \"children\": [\r\n            //                      { \"label\": \"subUser2-1-1\", \"id\": \"role1211\", \"children\": [] },\r\n            //                      { \"label\": \"subUser2-1-2\", \"id\": \"role1212\", \"children\": [] }\r\n            //                    ]\r\n            //                }\r\n            //              ]\r\n            //          }\r\n            //        ]\r\n            //    },\r\n            //    { \"label\": \"Admin\", \"id\": \"role2\", \"children\": [] },\r\n            //    { \"label\": \"Guest\", \"id\": \"role3\", \"children\": [] }\r\n            //];\r\n\r\n\r\n\r\n        }]);\r\n\r\n\r\nangular.bootstrap(document.getElementById(\"MyApp\"), [\"MyApp\"]);\r\n\r\n\r\n"]}