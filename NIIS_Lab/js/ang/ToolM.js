/*! NIIS 2016-05-09 */

angular.module("ToolM",[]).directive("repeatCallback",function(){return function(a,b,c){a.$last&&a.$eval(c.repeatCallback),a.$parent&&a.$parent.$last&&a.$eval(c.repeatCallback)}}).provider("ToolProvider",function(){this.$get=function(){var a=this;return a.doPOST=function(b,c,d){var e=document.createElement("form");d&&(e=d),e.setAttribute("method","post"),e.setAttribute("action",b),e.setAttribute("style","display:none;");for(var f in c)a.addInput(f,c[f],e);d||document.body.appendChild(e),e.submit()},a.addInput=function(a,b,c){var d=document.createElement("input"),e=document.querySelector("input[name='"+a+"']");e&&(d=e),d.setAttribute("type","hidden"),d.setAttribute("name",a),d.setAttribute("value",b),e||c.appendChild(d)},a.popUpWindow=function(a,b,c,d){var e=screen.width/2-c/2,f=screen.height/2-d/2;return window.open(a,b,"toolbar=no, location=no,scrollbars=yes, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+c+", height="+d+", top="+f+", left="+e)},a.openWindowWithPost=function(b,c,d,e,f){var g=a.popUpWindow(b,c,d,e);if(!g)return!1;var h="";h+="<html><head></head><body><form id='formid' method='post' action='"+b+"' autocomplete='off'>";for(var i in f)h+="<input type='hidden' name='"+i+"' value='"+f[i]+"'/>";return h+="</form><script>document.getElementById('formid').submit();</script></body></html>",g.document.write(h),g},a.popPrint=function(b,c){c=c||[];var d=a.popUpWindow("","Print",800,600);d.document.write("<html><head><title>列印</title>");for(var e=0;e<c.length;e++)d.document.write('<link rel="stylesheet" href="'+c[e]+'" type="text/css" />');return d.document.write('</head><body class="bodybg">'),d.document.body.innerHTML="",d.document.write(b),d.document.write("</body></html>"),setTimeout(function(){document.close(),d.focus(),d.print(),d.close()},500),!0},a.setData=function(a){try{location.hash=encodeURIComponent(JSON.stringify(a))}catch(b){}},a.getData=function(){try{return JSON.parse(decodeURIComponent(location.hash.substring(1)))}catch(a){return""}},a}});
//# sourceMappingURL=ToolM.js.map