/*! NIIS 2016-05-09 */

angular.module("PageM",[]).config(["$httpProvider",function(a){delete a.defaults.headers.common["X-Requested-With"],a.defaults.headers.common["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",a.defaults.useXDomain=!0}]).provider("PageProvider",function(){this.$get=["$http",function(a){var b=this;return b.rdCount=0,b.pgNow=0,b.pgCount=0,b.pgSize=10,b.pgArray=[],b.pgStart=1,b.pgRange=10,b.pgEnd=b.pgRange,b.isHide=!0,b.reset=function(){b.rdCount=0,b.pgNow=0,b.pgCount=0,b.pgSize=10,b.pgArray=[],b.pgStart=1,b.pgRange=10,b.pgEnd=b.pgRange,b.isHide=!0},b.getDataCallback=function(a,c){b.rdCount=a.rdCount,b.pgNow=a.pgNow,b.pgCount=0==a.pgCount?1:a.pgCount,b.pgSize=a.pgSize,1==b.pgNow?b.pgStart=1:b.pgNow%b.pgRange==0?b.pgStart=b.pgNow-b.pgRange+1:b.pgStart=Math.floor(a.pgNow/b.pgRange)*b.pgRange+1,b.pgNow==b.pgCount?b.pgEnd=b.pgNow:b.pgStart+b.pgRange>=b.pgCount?b.pgEnd=b.pgCount:b.pgEnd=b.pgStart+b.pgRange-1,b.pgArray=[];for(var d=b.pgStart;d<=b.pgEnd;d++)b.pgArray.push(d);c(a)},$(document).ajaxStart(function(){$("#loading").show()}).ajaxComplete(function(){$("#loading").hide()}),b.changePage=function(a,c,d){b.isHide=!1,$.ajax({cache:!1,type:"POST",url:a,data:c}).done(function(a){b.getDataCallback(a,d)}).fail(function(a,c){b.rdCount=0,b.pgNow=0,b.pgCount=0,b.pgSize=10,b.pgArray=[],b.pgStart=1,b.pgRange=10,b.pgEnd=b.pgRange,b.isHide=!0})},b.genPageData=function(a){var c={};return c.pgNow=a,angular.extend(b,c)},b.filterPageData=function(a,b){return b=b||{},b.pgNow=a.pgNow,b.pgSize=a.pgSize,b},b}]}).directive("pageNav",["$window",function(a){var b=function(a,b){return b.templateUrl},c=["$scope",function(b){b.Math=a.Math}],d=function(a,b,c){};return{require:["ngModel"],restrict:"E",scope:{VMD:"=ngModel",changePageD:"&onChangePageD"},transclude:!0,templateUrl:b,controller:c,link:d}}]);
//# sourceMappingURL=PageM.js.map