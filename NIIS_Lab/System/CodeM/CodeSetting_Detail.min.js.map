{"version":3,"sources":["CodeSetting_Detail.src.js"],"names":["$","document","on","e","history","go","preventDefault","angular","module","controller","$scope","PageProvider","TPM","hotkeys","PM","TM","VM","enState","changePage","pageIndex","show","pgData","genPageData","postData","val","filterPageData","data","message","$apply","add","combo","description","allowIn","callback","event","hotkey","activeElement","type","goAdd","save","obj","encodeURIComponent","doPOST","querySelector","goEdit","record","setData","JSON","stringify","doReset","hide","reset","location","hash","length","getData","cateID","pgNow"],"mappings":";;AAAAA,EAAE,WACEA,EAAEC,UAAUC,GAAG,QAAS,WAAY,SAAUC,GAG1C,MAFAC,SAAQC,GAAG,IACXF,EAAEG,kBACK,MAKfC,QAAQC,OAAO,SAAU,QAAQ,QAAS,gBAChCC,WAAW,gBAAiB,SAAU,eAAgB,eAAgB,UAAW,SAAUC,EAAQC,EAAaC,EAAKC,GAqElH,GAnEAH,EAAOI,GAAKH,EACZD,EAAOK,MACPL,EAAOM,MACPN,EAAOM,GAAGC,QAAU,GAEpBP,EAAOQ,WAAa,SAAUC,GAC1BnB,EAAE,YAAYoB,MACd,IAAIC,GAASX,EAAOI,GAAGQ,YAAYH,GAC/BI,IACJA,GAAa,GAAIvB,EAAE,WAAWwB,MAC9BD,EAAa,GAAIb,EAAOM,GAAGC,QAC3BM,EAAWb,EAAOI,GAAGW,eAAeJ,EAAQE,GAC5Cb,EAAOI,GAAGI,WAAW,0CAA2CK,EAAU,SAAUG,GAChFhB,EAAOK,GAAGW,KAAOA,EAAKC,QACtBjB,EAAOkB,OAAO,iBAMtBf,EAAQgB,KACJC,MAAO,QACPC,YAAa,wBACbC,SAAU,QAAQ,SAAU,SAAU,YACtCC,SAAU,SAAUC,EAAOC,GACPlC,SAASmC,cAAcC,QAW/C3B,EAAO4B,MAAQ,WACX,GAAIZ,GAAOhB,EAAO6B,QAAU,GAExBC,IACJA,GAAQ,GAAIxC,EAAE,WAAWwB,MACzBgB,EAAU,KAAIC,mBAAmBf,GACjCd,EAAI8B,OAAO,4CAA4CF,EAAIvC,SAAS0C,cAAc,aAGtFjC,EAAOkC,OAAS,SAAUC,GACtB,GAAInB,GAAOhB,EAAO6B,QAAU,GACxBC,IACJA,GAAQ,GAAIxC,EAAE,WAAWwB,MACzBgB,EAAO,EAAIK,EAAU,EACrBL,EAAU,KAAIC,mBAAmBf,GACjCd,EAAI8B,OAAO,gDAAiDF,EAAKvC,SAAS0C,cAAc,aAG5FjC,EAAO6B,KAAO,WACV,GAAIb,KAGJ,OAFAA,GAAa,OAAI1B,EAAE,WAAWwB,MAC9BZ,EAAIkC,QAAQpB,GACLqB,KAAKC,UAAUtB,IAG1BhB,EAAOuC,QAAU,WACbvC,EAAOM,GAAGC,QAAU,GACpBjB,EAAE,YAAYkD,OACdxC,EAAOI,GAAGqC,SAGVC,SAASC,KAAKC,OAAS,EAAG,CAC1B,GAAI5B,GAAOd,EAAI2C,SACfvD,GAAE,WAAWwB,IAAIE,EAAK8B,QACtB9C,EAAOQ,WAAWQ,EAAK+B,WAGvB/C,GAAOQ,WAAW","file":"CodeSetting_Detail.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#lastBtn\", function (e) {\r\n        history.go(-1);\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n    \r\n});\r\n\r\nangular.module(\"MyApp\", [\"PageM\",\"ToolM\", \"cfp.hotkeys\"])\r\n         .controller(\"MyController\", [\"$scope\", \"PageProvider\", \"ToolProvider\", \"hotkeys\", function ($scope, PageProvider,TPM, hotkeys) {\r\n\r\n             $scope.PM = PageProvider;\r\n             $scope.TM = {};\r\n             $scope.VM = {};\r\n             $scope.VM.enState = \"\";\r\n\r\n             $scope.changePage = function (pageIndex) {\r\n                 $(\"#tmBlock\").show();\r\n                 var pgData = $scope.PM.genPageData(pageIndex);\r\n                 var postData = {};\r\n                 postData[\"ci\"] = $('#cateID').val();\r\n                 postData[\"en\"] = $scope.VM.enState;\r\n                 postData = $scope.PM.filterPageData(pgData, postData);\r\n                 $scope.PM.changePage(\"/System/CodeM/CodeSetting_DetailOP.aspx\", postData, function (data) {\r\n                     $scope.TM.data = data.message;\r\n                     $scope.$apply(function () {});\r\n                 });\r\n             };\r\n\r\n             \r\n\r\n             hotkeys.add({\r\n                 combo: 'enter',\r\n                 description: 'Description goes here',\r\n                 allowIn: ['INPUT',\"BUTTON\", 'SELECT', 'TEXTAREA'],\r\n                 callback: function (event, hotkey) {\r\n                     var focusType = document.activeElement.type;\r\n                     if (focusType == \"text\" || focusType == \"select-one\")\r\n                     {\r\n                         //$scope.changePage(1);\r\n                         //event.preventDefault();\r\n                         //return false;\r\n                         //$(\"input[name='addBtn']\").trigger(\"click\");\r\n                     }\r\n                 }\r\n             });\r\n\r\n             $scope.goAdd = function () {\r\n                 var data = $scope.save() || \"\";\r\n\r\n                 var obj = {};\r\n                 obj['ci'] = $('#cateID').val();\r\n                 obj['hash'] = encodeURIComponent(data);\r\n                 TPM.doPOST(\"/System/CodeM/CodeSetting_Detail_Add.aspx\",obj,document.querySelector(\"#MyForm\"));\r\n             };\r\n\r\n             $scope.goEdit = function (record) {\r\n                 var data = $scope.save() || \"\";\r\n                 var obj = {};\r\n                 obj['ci'] = $('#cateID').val();\r\n                 obj['i'] = record['I'];\r\n                 obj['hash'] = encodeURIComponent(data);\r\n                 TPM.doPOST(\"/System/CodeM/CodeSetting_DetailMaintain.aspx\", obj, document.querySelector(\"#MyForm\"));\r\n             };\r\n\r\n             $scope.save = function () {\r\n                 var data = {};\r\n                 data[\"cateID\"] = $('#cateID').val();\r\n                 TPM.setData(data);\r\n                 return JSON.stringify(data);\r\n             };\r\n\r\n             $scope.doReset = function () {\r\n                 $scope.VM.enState = \"\";\r\n                 $(\"#tmBlock\").hide();\r\n                 $scope.PM.reset();\r\n             };\r\n\r\n             if (location.hash.length > 0) {\r\n                 var data = TPM.getData();\r\n                 $('#cateID').val(data.cateID);\r\n                 $scope.changePage(data.pgNow);\r\n             }\r\n             else {\r\n                 $scope.changePage(1);\r\n             }\r\n\r\n}]);\r\n\r\n"]}