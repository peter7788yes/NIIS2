{"version":3,"sources":["SchoolCode_Detail.src.js"],"names":["$","document","on","e","history","go","preventDefault","window","close","UP","prop","stateAry","length","each","reverse","index","item","$input","val","EV","$label","append","EN","prepend","this","tbOtherIDs","split","tbOther","ary","push","angular","module","controller","$scope","TPM","$http","VM","CountyAry","I","N","concat","countyJson","TownAry","townJson","VillageAry","villageJson","SelectCounty","county","SelectTown","town","SelectVillage","village","show","BindCounty","postData","method","url","data","param","headers","Content-Type","success","status","config","error","SelectCountyChange","SelectTownChange","openOrgs","popUpWindow","refresh","location","Vaccine","VaccineIDs","setTimeout","$apply","openAddVaccine","i"],"mappings":"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","file":"SchoolCode_Detail.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#lastBtn\", function (e) {\r\n        history.go(-1);\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    $(document).on(\"click\", \"#cancelBtn\", function (e) {\r\n        window.close();\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    if (UP == false) {\r\n        $(\"#SelectCounty\").prop(\"disabled\", true);\r\n        $(\"#SelectTown\").prop(\"disabled\", true);\r\n        $(\"#SelectVillage\").prop(\"disabled\", true);\r\n    }\r\n\r\n\r\n    var aryLengh = stateAry.length;\r\n    var aryNumber = \"\";\r\n    $.each(stateAry.reverse(), function (index, item) {\r\n        var $input = $(\"<input class='cbs' type='checkbox'/>\").val(item.EV);\r\n        var $label = $(\"<label/>\");\r\n        $label.append($input).append(item.EN);\r\n        $(\"#td\").prepend($label);\r\n    });\r\n    $(\"#td\").append(\"<br/><label><input id='cbOther'  type='checkbox'/>其他(請說明)：<input id='tbOther'  name='tbOther' class='text02' type='text'/>科</label>\");\r\n\r\n\r\n    $(document).on(\"change\", \"#tbOther\", function (e) {\r\n        if ($(this).val() == \"\") {\r\n            $(\"#cbOther\").prop('checked', false);\r\n        }\r\n        else {\r\n            $(\"#cbOther\").prop('checked', true);\r\n        }\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    $.each(tbOtherIDs.split(\",\"), function (index, item) {\r\n        $(\"input:checkbox[value='\" + item + \"']\").prop(\"checked\", true);\r\n    });\r\n\r\n    $(\"#tbOther\").val(tbOther);\r\n\r\n    if ($(\"#tbOther\").val() == \"\") {\r\n        $(\"#cbOther\").prop('checked', false);\r\n    }\r\n    else {\r\n        $(\"#cbOther\").prop('checked', true);\r\n    }\r\n\r\n\r\n\r\n    $(document).on(\"submit\", \"form\", function (e) {\r\n        var ary = [];\r\n        $.each($(\".cbs\"), function (index, item) {\r\n            if ($(item).prop(\"checked\") == true) {\r\n                ary.push($(item).val());\r\n            }\r\n        });\r\n        $(\"#did\").val(ary);\r\n    });\r\n\r\n    //$(document).on(\"change\", \"#ddAgState\", function (e) {\r\n    //    if($(this).val()==\"2\")\r\n    //    {\r\n    //        $('.tbDates').show();\r\n    //    }\r\n    //    else\r\n    //    {\r\n    //       $('.tbDates').hide();\r\n    //    }\r\n    //});\r\n});\r\n\r\nangular.module(\"MyApp\", [\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\", \"ToolProvider\", \"$http\", function ($scope,TPM, $http) {\r\n             $scope.VM = {};\r\n\r\n             $scope.VM.CountyAry = [{ I: '', N: \"縣市\" }].concat(countyJson);\r\n             $scope.VM.TownAry = [{ I: '', N: \"鄉鎮\" }].concat(townJson);\r\n             $scope.VM.VillageAry = [{ I: \"\", N: \"村里\" }].concat(villageJson);\r\n\r\n             $scope.VM.SelectCounty = county;\r\n             $scope.VM.SelectTown = town;\r\n             $scope.VM.SelectVillage = village;;\r\n\r\n             $(\"#SelectCounty\").show();\r\n             $(\"#SelectTown\").show();\r\n             $(\"#SelectVillage\").show();\r\n\r\n             $scope.BindCounty = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"County\";\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n                    data = data || [];\r\n                    if (data.length > 0) {\r\n                        $scope.VM.CountyAry = [{ I: '', N: \"縣市\" }].concat(data);\r\n                        $scope.VM.SelectCounty = \"\";\r\n                    }\r\n                    else {\r\n                        $scope.VM.CountyAry = [{ I: '', N: \"縣市\" }];\r\n                        $scope.VM.SelectCounty = \"\";\r\n                    }\r\n                })\r\n                 .error(function (data, status, headers, config) {\r\n                 });\r\n             };\r\n\r\n             $scope.SelectCountyChange = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"Town\";\r\n                 postData[\"p\"] = $scope.VM.SelectCounty;\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n               .success(function (data, status, headers, config) {\r\n                   data = data || [];\r\n                   if (data.length > 0) {\r\n                       $scope.VM.TownAry = [{ I: '', N: \"鄉鎮\" }].concat(data);;\r\n                       $scope.VM.SelectTown = \"\";\r\n                   }\r\n                   else {\r\n                       $scope.VM.TownAry = [{ I: '', N: \"鄉鎮\" }];\r\n                       $scope.VM.SelectTown = \"\";\r\n                   }\r\n\r\n                   $scope.VM.VillageAry = [{ I: \"\", N: \"村里\" }];\r\n                   $scope.VM.SelectVillage = \"\";\r\n               })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n\r\n             };\r\n\r\n\r\n             $scope.SelectTownChange = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"Village\";\r\n                 postData[\"p\"] = $scope.VM.SelectTown;\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n               .success(function (data, status, headers, config) {\r\n                   data = data || [];\r\n                   if (data.length > 0) {\r\n                       $scope.VM.VillageAry = [{ I: \"\", N: \"村里\" }].concat(data);\r\n\r\n                   }\r\n                   else {\r\n                       $scope.VM.VillageAry = [{ I: \"\", N: \"村里\" }];\r\n\r\n                   }\r\n                   $scope.VM.SelectVillage = \"\";\r\n\r\n               })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n\r\n             };\r\n\r\n             $scope.openOrgs = function () {\r\n                 popUpWindow(\"/SelectSingleOrg.aspx\", \"SelectSingleOrg\", 930, 450);\r\n\r\n             };\r\n\r\n             $scope.refresh = function () {\r\n                 var location = $('#tbLocation').val();\r\n                 var Vaccine = $('#tbVaccine').val();\r\n                 var VaccineIDs = $('#hfVaccineIDs').val();\r\n\r\n                 setTimeout(function () {\r\n                     $scope.$apply(function () {\r\n                         $scope.VM.location = location;\r\n                         $scope.VM.Vaccine = Vaccine;\r\n                         $scope.VM.VaccineIDs = VaccineIDs;\r\n                     });\r\n                 }, 1);\r\n             };\r\n\r\n             $scope.openAddVaccine = function (i) {\r\n                 TPM.popUpWindow(\"/Vaccination/ParameterM/LocationSetting_AddVaccine.aspx?i=\" + i + \"&is=\" + $('#hfVaccineIDs').val(), \"AddVaccine\", \"AddVaccine\", 910, 700)\r\n             };\r\n}]);\r\n\r\n\r\n\r\n"]}