/*! NIIS 2016-05-09 */

$(function(){sessionStorage.removeItem("hfCateID"),sessionStorage.removeItem("hfCateName"),sessionStorage.removeItem("rbLevel"),sessionStorage.removeItem("tbName"),sessionStorage.removeItem("tbDesp"),sessionStorage.removeItem("rbLevel"),sessionStorage.removeItem("hash")}),angular.module("MyApp",["PageM","ToolM","cfp.hotkeys"]).controller("MyController",["$scope","PageProvider","ToolProvider","hotkeys",function(a,b,c,d){if(a.PM=b,a.TM={},a.VM={},a.VM.title="",a.VM.powerAry=[].concat(powerData),a.VM.selectSystem=spc,a.changePage=function(b,c){$("#tmBlock").show();var d=a.PM.genPageData(b),e={};e.rc=a.VM.selectSystem,e=a.PM.filterPageData(d,e),a.PM.changePage("/System/PowerM/RolePowerSettingOP.aspx",e,function(b){a.TM.data=b.message,a.$apply(function(){})})},d.add({combo:"enter",description:"Description goes here",allowIn:["INPUT","BUTTON","SELECT","TEXTAREA"],callback:function(b,c){var d=document.activeElement.type;"text"!=d&&"select-one"!=d||a.changePage(1)}}),a.changeName=function(b){var d=a.save()||"",e={};e.i=b.I,e.hash=encodeURIComponent(d),c.doPOST("/System/PowerM/RolePowerSetting_Detail.aspx",e,document.querySelector("#MyForm"))},a.changePower=function(b){var d=a.save()||"",e={};e.i=b.I,e.hash=encodeURIComponent(d),c.doPOST("/System/PowerM/RolePowerSetting_ChangePower.aspx",e,document.querySelector("#MyForm"))},a.changeSystem=function(b){a.changePage(1)},a.changeAdd=function(b){var d=a.save()||"",e={};e.sc=a.VM.selectSystem,e.hash=encodeURIComponent(d),c.doPOST("/System/PowerM/RolePowerSetting_Add.aspx",e,document.querySelector("#MyForm"))},a.save=function(){var b={};return b.selectSystem=a.VM.selectSystem,b.pgNow=a.PM.pgNow,c.setData(b),JSON.stringify(b)},location.hash.length>0){var e=c.getData();a.VM.selectSystem=e.selectSystem,a.changePage(e.pgNow)}else a.changePage(1)}]);
//# sourceMappingURL=RolePowerSetting.min.js.map