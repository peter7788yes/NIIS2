{"version":3,"sources":["AccountCheck.src.js"],"names":["$","angular","module","controller","$scope","PageProvider","TPM","hotkeys","PM","TM","VM","Uname","Oname","checkAry","concat","checkData","selectCheck","changePage","pageIndex","show","pgData","genPageData","postData","window","getOrgName","filterPageData","data","message","$apply","add","combo","description","allowIn","callback","event","hotkey","focusType","document","activeElement","type","openOrgs","record","popUpWindow","getCheck","rtn","each","index","item","EV","C","EN","goDetail","save","obj","encodeURIComponent","doPOST","querySelector","getOrgID","pgNow","setData","JSON","stringify","location","hash","length","getData","val","OrgID","OrgName","doReset","setOrgID","defaultOrgID","setOrgName","defaultOrgName","hide","reset"],"mappings":";;AAAAA,EAAE,cAGFC,QAAQC,OAAO,SAAU,QAAS,UAAU,QAAS,gBAC3CC,WAAW,gBAAiB,SAAU,eAAgB,eAAgB,UAAW,SAAUC,EAAQC,EAAcC,EAAKC,GA4EnH,GA3EAH,EAAOI,GAAKH,EACZD,EAAOK,MACPL,EAAOM,MACPN,EAAOM,GAAGC,MAAQ,GAClBP,EAAOM,GAAGE,MAAQ,GAClBR,EAAOM,GAAGG,YAAcC,OAAOC,WAC/BX,EAAOM,GAAGM,YAAc,GAExBZ,EAAOa,WAAa,SAAUC,GAC1BlB,EAAE,YAAYmB,MACd,IAAIC,GAAShB,EAAOI,GAAGa,YAAYH,GAC/BI,IACJA,GAAa,GAAIlB,EAAOM,GAAGC,MAEA,IAAvBY,OAAOC,eACPF,EAAc,IAAI,GAEtBA,EAAa,GAAIC,OAAOC,aACxBF,EAAa,GAAIlB,EAAOM,GAAGM,YAE3BM,EAAWlB,EAAOI,GAAGiB,eAAeL,EAAQE,GAC5ClB,EAAOI,GAAGS,WAAW,uCAAwCK,EAAU,SAAUI,GAC7EtB,EAAOK,GAAGiB,KAAOA,EAAKC,QACtBvB,EAAOwB,OAAO,iBAMtBrB,EAAQsB,KACJC,MAAO,QACPC,YAAa,wBACbC,SAAU,QAAS,SAAU,SAAU,YACvCC,SAAU,SAAUC,EAAOC,GACvB,GAAIC,GAAYC,SAASC,cAAcC,IACtB,SAAbH,GAAoC,cAAbA,GACvBhC,EAAOa,WAAW,MAK9Bb,EAAOoC,SAAW,SAAUC,GACxBnC,EAAIoC,YAAY,wBAAyB,kBAAmB,IAAK,MAGrEtC,EAAOuC,SAAW,SAAUF,GACxB,GAAIG,GAAM,EAMV,OALA5C,GAAE6C,KAAKzC,EAAOM,GAAGG,SAAU,SAAUiC,EAAOC,GACpCA,EAAKC,IAAMP,EAAOQ,IAClBL,EAAMG,EAAKG,MAGZN,GAGXxC,EAAO+C,SAAW,SAAUV,GACxB,GAAIf,GAAOtB,EAAOgD,QAAU,GAExBC,IACJA,GAAO,EAAIZ,EAAU,EACrBY,EAAU,KAAIC,mBAAmB5B,GACjCpB,EAAIiD,OAAO,4CAA6CF,EAAIhB,SAASmB,cAAc,aAGvFpD,EAAOgD,KAAO,WACV,GAAI1B,KAOJ,OANAA,GAAY,MAAIH,OAAOkC,WACvB/B,EAAc,QAAIH,OAAOC,aACzBE,EAAY,MAAItB,EAAOI,GAAGkD,MAC1BhC,EAAkB,YAAItB,EAAOM,GAAGM,YAChCU,EAAY,MAAItB,EAAOM,GAAGC,MAC1BL,EAAIqD,QAAQjC,GACLkC,KAAKC,UAAUnC,IAGtBoC,SAASC,KAAKC,OAAS,EAAG,CAC1B,GAAItC,GAAOpB,EAAI2D,SACf7D,GAAOM,GAAGC,MAAQe,EAAKf,MACvBX,EAAE,YAAYkE,IAAIxC,EAAKyC,OACvBnE,EAAE,cAAckE,IAAIxC,EAAK0C,SACzBhE,EAAOM,GAAGM,YAAcU,EAAKV,YAC7BZ,EAAOa,WAAWS,EAAKgC,OAM3BtD,EAAOiE,QAAU,WACbjE,EAAOM,GAAGC,MAAQ,GAClBY,OAAO+C,SAASC,cAChBhD,OAAOiD,WAAWC,gBAClBrE,EAAOM,GAAGM,YAAc,GACxBhB,EAAE,YAAY0E,OACdtE,EAAOI,GAAGmE","file":"AccountCheck.min.js","sourcesContent":["$(function () {\r\n});\r\n\r\nangular.module(\"MyApp\", [\"PageM\", \"FilterM\",\"ToolM\", \"cfp.hotkeys\"])\r\n         .controller(\"MyController\", [\"$scope\", \"PageProvider\", \"ToolProvider\", \"hotkeys\", function ($scope, PageProvider, TPM, hotkeys) {\r\n             $scope.PM = PageProvider;\r\n             $scope.TM = {};\r\n             $scope.VM = {};\r\n             $scope.VM.Uname = \"\";\r\n             $scope.VM.Oname = \"\";\r\n             $scope.VM.checkAry = [].concat(checkData);\r\n             $scope.VM.selectCheck = \"\";\r\n\r\n             $scope.changePage = function (pageIndex) {\r\n                 $(\"#tmBlock\").show();\r\n                 var pgData = $scope.PM.genPageData(pageIndex);\r\n                 var postData = {};\r\n                 postData[\"an\"] = $scope.VM.Uname;\r\n                 //postData[\"on\"] = $scope.VM.Oname;\r\n                 if (window.getOrgName() == \"\") {\r\n                     postData[\"oid\"] = 0;\r\n                 }\r\n                 postData[\"on\"] = window.getOrgName();\r\n                 postData[\"cs\"] = $scope.VM.selectCheck;\r\n\r\n                 postData = $scope.PM.filterPageData(pgData, postData);\r\n                 $scope.PM.changePage(\"/System/AccountM/AccountCheckOP.aspx\", postData, function (data) {\r\n                     $scope.TM.data = data.message;\r\n                     $scope.$apply(function () { });\r\n                 });\r\n             };\r\n\r\n             //$scope.changePage(1);\r\n\r\n             hotkeys.add({\r\n                 combo: 'enter',\r\n                 description: 'Description goes here',\r\n                 allowIn: ['INPUT', \"BUTTON\", 'SELECT', 'TEXTAREA'],\r\n                 callback: function (event, hotkey) {\r\n                     var focusType = document.activeElement.type;\r\n                     if (focusType == \"text\" || focusType == \"select-one\") {\r\n                         $scope.changePage(1);\r\n                     }\r\n                 }\r\n             });\r\n\r\n             $scope.openOrgs = function (record) {\r\n                 TPM.popUpWindow(\"/SelectSingleOrg.aspx\", \"SelectSingleOrg\", 620, 450);\r\n             };\r\n\r\n             $scope.getCheck = function (record) {\r\n                 var rtn = \"\";\r\n                 $.each($scope.VM.checkAry, function (index, item) {\r\n                     if (item.EV == record.C) {\r\n                         rtn = item.EN;\r\n                     }\r\n                 });\r\n                 return rtn;\r\n             };\r\n\r\n             $scope.goDetail = function (record) {\r\n                 var data = $scope.save() || \"\";\r\n\r\n                 var obj = {};\r\n                 obj['i'] = record[\"I\"];\r\n                 obj['hash'] = encodeURIComponent(data);\r\n                 TPM.doPOST(\"/System/AccountM/AccountCheck_Detail.aspx\", obj,document.querySelector(\"#MyForm\"));\r\n             };\r\n\r\n             $scope.save = function () {\r\n                 var data = {};\r\n                 data[\"OrgID\"] = window.getOrgID();\r\n                 data[\"OrgName\"] = window.getOrgName();\r\n                 data['pgNow'] = $scope.PM.pgNow;\r\n                 data[\"selectCheck\"] = $scope.VM.selectCheck;\r\n                 data[\"Uname\"] = $scope.VM.Uname;\r\n                 TPM.setData(data);\r\n                 return JSON.stringify(data);\r\n             };\r\n\r\n             if (location.hash.length > 0) {\r\n                 var data = TPM.getData();\r\n                 $scope.VM.Uname = data.Uname;\r\n                 $(\"#ucOrgID\").val(data.OrgID);\r\n                 $(\"#ucOrgName\").val(data.OrgName);\r\n                 $scope.VM.selectCheck = data.selectCheck;\r\n                 $scope.changePage(data.pgNow);\r\n             }\r\n             //else {\r\n             //    $scope.changePage(1);\r\n             //}\r\n\r\n             $scope.doReset = function () {\r\n                 $scope.VM.Uname = \"\";\r\n                 window.setOrgID(defaultOrgID);\r\n                 window.setOrgName(defaultOrgName);\r\n                 $scope.VM.selectCheck = \"\";\r\n                 $(\"#tmBlock\").hide();\r\n                 $scope.PM.reset();\r\n             };\r\n}]);\r\n\r\n//var getCode = function (code) {\r\n//    var element = document.querySelector('#tbLocation');\r\n//    element.value = code.text;\r\n//    element.focus();\r\n//    var controllerElement = document.querySelector('section');\r\n//    var controllerScope = angular.element(controllerElement).scope();\r\n//    controllerScope.$apply(function () {\r\n//        controllerScope.VM.locationObj = code;\r\n//        controllerScope.VM.Oname = code.text;\r\n//    });\r\n//};"]}