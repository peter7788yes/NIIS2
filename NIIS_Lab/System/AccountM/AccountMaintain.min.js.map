{"version":3,"sources":["AccountMaintain.src.js"],"names":["$","document","on","e","location","href","preventDefault","angular","module","controller","$scope","PageProvider","TPM","PM","TM","VM","Uname","Oname","powerAry","concat","powerData","roleAry","roleData","enableAry","enableData","checkAry","checkData","logoutAry","logoutData","selectRole","selectEnable","selectCheck","selectLogout","selectSpc","spc","changePage","pageIndex","show","pgData","genPageData","postData","window","getOrgID","getOrgName","filterPageData","data","message","$apply","getEnable","record","rtn","each","index","item","EV","IE","EN","getCheck","C","goDetail","save","obj","doPOST","querySelector","goMaintain","openOrgs","popUpWindow","pgNow","setData","doReset","hide","reset","hash","length","getData","getCode","code","element","value","text","focus","controllerElement","controllerScope","scope","locationObj"],"mappings":"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","file":"AccountMaintain.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#addBtn\", function (e) {\r\n        location.href = \"/System/AccountM/AccountMaintain_Add.aspx\";\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n});\r\n\r\nangular.module(\"MyApp\", [\"PageM\",\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\", \"PageProvider\", \"ToolProvider\", function ($scope, PageProvider,TPM) {\r\n             $scope.PM = PageProvider;\r\n             $scope.TM = {};\r\n             $scope.VM = {};\r\n             $scope.VM.Uname = \"\";\r\n             $scope.VM.Oname = \"\";\r\n             $scope.VM.powerAry = [].concat(powerData);\r\n             $scope.VM.roleAry = [].concat(roleData);\r\n             $scope.VM.enableAry = [].concat(enableData);\r\n             $scope.VM.checkAry = [].concat(checkData);\r\n             $scope.VM.logoutAry = [].concat(logoutData);\r\n             $scope.VM.selectRole = \"0\";\r\n             $scope.VM.selectEnable = \"0\";\r\n             $scope.VM.selectCheck = \"0\";\r\n             $scope.VM.selectLogout = \"0\";\r\n             $scope.VM.selectSpc = spc;\r\n\r\n             $scope.changePage = function (pageIndex) {\r\n                 $(\"#tmBlock\").show();\r\n                 var pgData = $scope.PM.genPageData(pageIndex);\r\n                 var postData = {};\r\n                 postData[\"oid\"] = window.getOrgID();\r\n                 if (window.getOrgName() == \"\") {\r\n                     postData[\"oid\"] = 0;\r\n                 }\r\n                 postData[\"an\"] = $scope.VM.Uname;\r\n                 postData[\"on\"] = window.getOrgName();\r\n                 postData[\"es\"] = $scope.VM.selectEnable;\r\n                 postData[\"cs\"] = $scope.VM.selectCheck;\r\n                 postData[\"lp\"] = $scope.VM.selectLogout;\r\n                 postData[\"spc\"] = $scope.VM.selectSpc;\r\n\r\n                 postData = $scope.PM.filterPageData(pgData, postData);\r\n                 $scope.PM.changePage(\"/System/AccountM/AccountMaintainOP.aspx\", postData, function (data) {\r\n                     $scope.TM.data = data.message;\r\n                     $scope.$apply(function () { });\r\n                 });\r\n             };\r\n\r\n             $scope.getEnable = function (record) {\r\n                 //var key = 2;\r\n                 //if (record.IE == true)\r\n                 //    key = 1;\r\n                 var rtn = \"\";\r\n                 $.each($scope.VM.enableAry, function (index, item) {\r\n                     if (item.EV == record.IE) {\r\n                         rtn = item.EN;\r\n                     }\r\n                 });\r\n                 return rtn;\r\n             };\r\n\r\n             $scope.getCheck = function (record) {\r\n                 var rtn = \"\";\r\n                 $.each($scope.VM.checkAry, function (index, item) {\r\n                     if (item.EV == record.C) {\r\n                         rtn = item.EN;\r\n                     }\r\n                 });\r\n                 return rtn;\r\n             };\r\n\r\n             $scope.goDetail = function (record) {\r\n                 $scope.save();\r\n                 obj = {};\r\n                 obj[\"i\"] = record[\"I\"];\r\n                 TPM.doPOST(\"/System/AccountM/AccountMaintain_Detail.aspx\", obj, document.querySelector(\"#MyForm\"));\r\n             };\r\n\r\n             $scope.goMaintain = function (record) {\r\n                 $scope.save();\r\n                 obj = {};\r\n                 obj[\"i\"] = record[\"I\"];\r\n                 TPM.doPOST(\"/System/AccountM/AccountMaintain_Maintain.aspx\", obj, document.querySelector(\"#MyForm\"));\r\n             };\r\n\r\n             $scope.openOrgs = function (record) {\r\n                 TPM.popUpWindow(\"/SelectSingleOrg.aspx\", \"SelectSingleOrg\", 620, 450);\r\n             };\r\n\r\n\r\n             $scope.save = function () {\r\n                 var data = {};\r\n                 data[\"Uname\"] = $scope.VM.Uname;\r\n                 data[\"Oname\"] = $scope.VM.Oname;\r\n                 data[\"selectEnable\"] = $scope.VM.selectEnable;\r\n                 data[\"selectCheck\"] = $scope.VM.selectCheck;\r\n                 data[\"selectLogout\"] = $scope.VM.selectLogout;\r\n                 data[\"selectSpc\"] = $scope.VM.selectSpc;\r\n                 data['pgNow'] = $scope.PM.pgNow;\r\n                 TPM.setData(data);\r\n             };\r\n\r\n             $scope.doReset = function () {\r\n                 $scope.VM.Uname='';\r\n                 $scope.VM.Oname='';\r\n                 $scope.VM.selectEnable='0';\r\n                 $scope.VM.selectCheck='0';\r\n                 $scope.VM.selectLogout='0';\r\n                 $scope.VM.selectSpc='0';\r\n                 $(\"#tmBlock\").hide();\r\n                 $scope.PM.reset();\r\n             };\r\n\r\n             if (location.hash.length > 0) {\r\n                 var data = TPM.getData();\r\n                 $scope.VM.Uname = data.Uname;\r\n                 $scope.VM.Oname = data.Oname;\r\n                 $scope.VM.selectEnable = data.selectEnable;\r\n                 $scope.VM.selectCheck = data.selectCheck;\r\n                 $scope.VM.selectLogout = data.selectLogout;\r\n                 $scope.VM.selectSpc = data.selectSpc;\r\n                 $scope.changePage(data.pgNow);\r\n\r\n             }\r\n\r\n}]);\r\n\r\n\r\nvar getCode = function (code) {\r\n    var element = document.querySelector('#tbLocation');\r\n    element.value = code.text;\r\n    element.focus();\r\n    var controllerElement = document.querySelector('section');\r\n    var controllerScope = angular.element(controllerElement).scope();\r\n    controllerScope.$apply(function () {\r\n        controllerScope.VM.locationObj = code;\r\n        controllerScope.VM.Oname = code.text;\r\n    });\r\n};\r\n"]}