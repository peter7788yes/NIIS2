{"version":3,"sources":["PrintCertificate.src.js"],"names":["$","document","on","e","location","href","preventDefault","angular","module","controller","$scope","PageProvider","TPM","PM","TM","VM","CountyAry","SelectCounty","TownAry","SelectTown","changePage","pageIndex","show","pgData","genPageData","postData","BirthDateS","val","BirthDateE","CaseName","CaseIdNo","HouseNo","ContactName","ContactIdNo","ContactBirthDate","filterPageData","data","message","$apply","goDetail","record","keys","values","doPOST","goRecord","obj","querySelector","goApplyData","openWindowWithPost","SelectCountyChange","ajax","cache","type","url","done","setTimeout","length","concat","fail","jqXHR","textStatus","BindCounty","openOrgs","popUpWindow","doReset"],"mappings":"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","file":"PrintCertificate.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#AddBtn\", function (e) {\r\n        location.href = \"/CaseMaintain/UserProfile.aspx\";\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    $(document).on(\"click\", \"#SearchBtn\", function (e) {\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n});\r\n\r\nangular.module(\"MyApp\", [\"PageM\", \"FilterM\",\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\", \"PageProvider\", \"ToolProvider\", function ($scope, PageProvider, TPM) {\r\n\r\n             $scope.PM = PageProvider;\r\n             $scope.TM = {};\r\n             $scope.VM = {};\r\n\r\n             $scope.VM.CountyAry = [];\r\n             $scope.VM.SelectCounty = \"0\";\r\n\r\n             $scope.VM.TownAry = [];\r\n             $scope.VM.SelectTown = \"0\";\r\n\r\n             $scope.changePage = function (pageIndex) {\r\n                 $(\"#tmBlock\").show();\r\n                 var pgData = $scope.PM.genPageData(pageIndex);\r\n                 var postData = {};\r\n\r\n                 postData.BirthDateS = $(\"#BirthDateS\").val();\r\n                 postData.BirthDateE = $(\"#BirthDateE\").val();\r\n                 postData.CaseName = $(\"#CaseName\").val();\r\n                 postData.CaseIdNo = $(\"#CaseIdNo\").val();\r\n                 postData.HouseNo = $(\"#HouseNo\").val();\r\n\r\n                 postData.ContactName = $(\"#ContactName\").val();\r\n                 postData.ContactIdNo = $(\"#ContactIdNo\").val();\r\n                 postData.ContactBirthDate = $(\"#ContactBirthDate\").val();\r\n\r\n                 postData = $scope.PM.filterPageData(pgData, postData);\r\n\r\n                 $scope.PM.changePage(\"/Vaccination/CertificateM/PrintCertificateOP.aspx\", postData, function (data) {\r\n                     $scope.TM.data = data.message;\r\n                     $scope.$apply(function () { });\r\n                 });\r\n             };\r\n\r\n             $scope.changePage(1);\r\n\r\n             $scope.goDetail = function (record) {\r\n                 var keys = [];\r\n                 var values = [];\r\n                 keys[0] = \"i\";\r\n                 values[0] = record[\"C\"];\r\n                 doPOST(\"/Vaccination/RecordM/RegisterData_Detail.aspx\", keys, values);\r\n             };\r\n\r\n             $scope.goRecord = function (record) {\r\n                 var obj = {};\r\n                 obj['i'] = record[\"C\"];\r\n                 TPM.doPOST(\"/Vaccination/CertificateM/ApplyDataRecord.aspx\", obj, document.querySelector('#MyForm'));\r\n             };\r\n\r\n             $scope.goApplyData = function (record) {\r\n                 var obj = {};\r\n                 obj['i'] = record[\"C\"];\r\n                 TPM.openWindowWithPost(\"/Vaccination/CertificateM/ApplyData.aspx\", \"AddVaccine\", 930, 450, obj,document.querySelector('#MyForm'));\r\n             };\r\n\r\n             $scope.SelectCountyChange = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"Town\";\r\n                 postData[\"p\"] = $(\"#SelectCounty\").val();\r\n                 $.ajax({\r\n                     cache: false,\r\n                     type: \"POST\",\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: postData\r\n                 })\r\n                    .done(function (data) {\r\n                        data = data || [];\r\n                        setTimeout(function () {\r\n                            $scope.$apply(function () {\r\n                                if (data.length > 0) {\r\n                                    $scope.VM.TownAry = [].concat(data);;\r\n                                    $scope.VM.SelectTown = \"0\";\r\n                                }\r\n                                else {\r\n                                    $scope.VM.TownAry = [];\r\n                                    $scope.VM.SelectTown = \"0\";\r\n                                }\r\n                            });\r\n                        }, 1);\r\n                    })\r\n                    .fail(function (jqXHR, textStatus) {\r\n                    });\r\n             };\r\n\r\n             $scope.BindCounty = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"County\";\r\n                 $.ajax({\r\n                     cache: false,\r\n                     type: \"POST\",\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: postData\r\n                 })\r\n                    .done(function (data) {\r\n                        data = data || [];\r\n                        setTimeout(function () {\r\n                            $scope.$apply(function () {\r\n                                if (data.length > 0) {\r\n                                    $scope.VM.CountyAry = [].concat(data);\r\n                                    $scope.VM.SelectCounty = \"0\";\r\n                                }\r\n                                else {\r\n                                    $scope.VM.CountyAry = [];\r\n                                    $scope.VM.SelectCounty = \"0\";\r\n                                }\r\n                            });\r\n                        }, 1);\r\n                    })\r\n                    .fail(function (jqXHR, textStatus) {\r\n\r\n                    });\r\n             };\r\n\r\n             $scope.BindCounty();\r\n\r\n             $scope.openOrgs = function (record) {\r\n                 TPM.popUpWindow(\"/SelectSingleOrg.aspx\", \"SelectSingleOrg\", 620, 450);\r\n             };\r\n\r\n             $scope.doReset = function () {\r\n                 $scope.VM.BirthDateS = '';\r\n                 $('#BirthDateS').val('');\r\n                 $scope.VM.BirthDateE = '';\r\n                 $('#BirthDateE').val('');\r\n                 $scope.VM.CaseName = '';\r\n                 $('#CaseName').val('');\r\n                 $scope.VM.CaseIdNo = '';\r\n                 $('#CaseIdNo').val('');\r\n                 $scope.VM.HouseNo = '';\r\n                 $('#HouseNo').val('');\r\n                 $scope.VM.ContactName = '';\r\n                 $('#ContactName').val('');\r\n                 $scope.VM.ContactIdNo = '';\r\n                 $('#ContactIdNo').val('');\r\n                 $scope.VM.ContactBirthDate = '';\r\n                 $('#ContactBirthDate').val('');\r\n\r\n                 $scope.changePage(1);\r\n             };\r\n}]);\r\n\r\n\r\n\r\n"]}