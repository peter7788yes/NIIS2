/*! NIIS 2016-04-28 */

$(function(){$(document).on("click","#AddBtn",function(a){return location.href="/CaseMaintain/UserProfile.aspx",a.preventDefault(),!1}),$(document).on("click","#SearchBtn",function(a){return a.preventDefault(),!1})}),angular.module("MyApp",["PageM","FilterM","ToolM"]).controller("MyController",["$scope","PageProvider","ToolProvider",function(a,b,c){a.PM=b,a.TM={},a.VM={},a.VM.CountyAry=[],a.VM.SelectCounty="0",a.VM.TownAry=[],a.VM.SelectTown="0",a.changePage=function(b){$("#tmBlock").show();var c=a.PM.genPageData(b),d={};d.BirthDateS=$("#BirthDateS").val(),d.BirthDateE=$("#BirthDateE").val(),d.CaseName=$("#CaseName").val(),d.CaseIdNo=$("#CaseIdNo").val(),d.HouseNo=$("#HouseNo").val(),d.ContactName=$("#ContactName").val(),d.ContactIdNo=$("#ContactIdNo").val(),d.ContactBirthDate=$("#ContactBirthDate").val(),d=a.PM.filterPageData(c,d),a.PM.changePage("/Vaccination/CertificateM/PrintCertificateOP.aspx",d,function(b){a.TM.data=b.message,a.$apply(function(){})})},a.changePage(1),a.goDetail=function(a){var b=[],c=[];b[0]="i",c[0]=a.C,doPOST("/Vaccination/RecordM/RegisterData_Detail.aspx",b,c)},a.goRecord=function(a){var b={};b.i=a.C,c.doPOST("/Vaccination/CertificateM/ApplyDataRecord.aspx",b,document.querySelector("#MyForm"))},a.goApplyData=function(a){var b={};b.i=a.C,c.openWindowWithPost("/Vaccination/CertificateM/ApplyData.aspx","AddVaccine",930,450,b,document.querySelector("#MyForm"))},a.SelectCountyChange=function(){var b={};b.a="Town",b.p=$("#SelectCounty").val(),$.ajax({cache:!1,type:"POST",url:"/Ashx/SystemAreaCodeOP.ashx",data:b}).done(function(b){b=b||[],setTimeout(function(){a.$apply(function(){b.length>0?(a.VM.TownAry=[].concat(b),a.VM.SelectTown="0"):(a.VM.TownAry=[],a.VM.SelectTown="0")})},1)}).fail(function(a,b){})},a.BindCounty=function(){var b={};b.a="County",$.ajax({cache:!1,type:"POST",url:"/Ashx/SystemAreaCodeOP.ashx",data:b}).done(function(b){b=b||[],setTimeout(function(){a.$apply(function(){b.length>0?(a.VM.CountyAry=[].concat(b),a.VM.SelectCounty="0"):(a.VM.CountyAry=[],a.VM.SelectCounty="0")})},1)}).fail(function(a,b){})},a.BindCounty(),a.openOrgs=function(a){c.popUpWindow("/SelectSingleOrg.aspx","SelectSingleOrg",620,450)},a.doReset=function(){a.VM.BirthDateS="",$("#BirthDateS").val(""),a.VM.BirthDateE="",$("#BirthDateE").val(""),a.VM.CaseName="",$("#CaseName").val(""),a.VM.CaseIdNo="",$("#CaseIdNo").val(""),a.VM.HouseNo="",$("#HouseNo").val(""),a.VM.ContactName="",$("#ContactName").val(""),a.VM.ContactIdNo="",$("#ContactIdNo").val(""),a.VM.ContactBirthDate="",$("#ContactBirthDate").val(""),a.changePage(1)}}]);
//# sourceMappingURL=PrintCertificate.min.js.map