{"version":3,"sources":["ApplyData.src.js"],"names":["$","attr","angular","module","controller","$scope","PageProvider","TPM","$http","PM","TM","VM","CountyAry","I","N","SelectCounty","TownAry","SelectTown","changePage","pageIndex","show","pgData","genPageData","postData","BirthDateS","val","BirthDateE","CaseName","CaseIdNo","HouseNo","ContactName","ContactIdNo","ContactBirthDate","filterPageData","data","message","$apply","SelectCountyChange","method","url","param","headers","Content-Type","success","status","config","length","concat","error","BindCounty","openOrgs","record","popUpWindow","refresh","location","locationID","setTimeout","getCode","code","text","id","trigger"],"mappings":";;AAAAA,EAAE,WACEA,EAAE,QAAQC,KAAK,WAAY,cAG/BC,QAAQC,OAAO,SAAU,QAAQ,UACvBC,WAAW,gBAAiB,SAAU,eAAgB,eAAgB,QAAS,SAAUC,EAAQC,EAAaC,EAAKC,GAEhHH,EAAOI,GAAKH,EACZD,EAAOK,MACPL,EAAOM,MAEPN,EAAOM,GAAGC,YAAeC,EAAG,IAAKC,EAAG,OACpCT,EAAOM,GAAGI,aAAe,IAEzBV,EAAOM,GAAGK,UAAaH,EAAG,IAAKC,EAAG,OAClCT,EAAOM,GAAGM,WAAa,IAEvBZ,EAAOa,WAAa,SAAUC,GAC1BnB,EAAE,YAAYoB,MACd,IAAIC,GAAShB,EAAOI,GAAGa,YAAYH,GAC/BI,IAEJA,GAASC,WAAaxB,EAAE,eAAeyB,MACvCF,EAASG,WAAa1B,EAAE,eAAeyB,MACvCF,EAASI,SAAW3B,EAAE,aAAayB,MACnCF,EAASK,SAAW5B,EAAE,aAAayB,MACnCF,EAASM,QAAU7B,EAAE,YAAYyB,MAEjCF,EAASO,YAAc9B,EAAE,gBAAgByB,MACzCF,EAASQ,YAAc/B,EAAE,gBAAgByB,MACzCF,EAASS,iBAAmBhC,EAAE,qBAAqByB,MAEnDF,EAAWlB,EAAOI,GAAGwB,eAAeZ,EAAQE,GAE5ClB,EAAOI,GAAGS,WAAW,kDAAmDK,EAAU,SAAUW,GACxF7B,EAAOK,GAAGwB,KAAOA,EAAKC,QACtB9B,EAAO+B,OAAO,iBAItB/B,EAAOa,WAAW,GAElBb,EAAOgC,mBAAqB,WACxB,GAAId,KACJA,GAAY,EAAI,OAChBA,EAAY,EAAIvB,EAAE,iBAAiByB,MAEnCjB,GACI8B,OAAQ,OACRC,IAAK,8BACLL,KAAMlC,EAAEwC,MAAMjB,GACdkB,SAAWC,eAAgB,uCAE/BC,QAAQ,SAAUT,EAAMU,EAAQH,EAASI,GACtCX,EAAOA,MACHA,EAAKY,OAAS,GACdzC,EAAOM,GAAGK,UAAaH,EAAG,IAAKC,EAAG,OAAQiC,OAAOb,GACjD7B,EAAOM,GAAGM,WAAa,MAGvBZ,EAAOM,GAAGK,UAAaH,EAAG,IAAKC,EAAG,OAClCT,EAAOM,GAAGM,WAAa,OAG7B+B,MAAM,SAAUd,EAAMU,EAAQH,EAASI,OAI5CxC,EAAO4C,WAAa,WAChB,GAAI1B,KACJA,GAAY,EAAI,SAEhBf,GACI8B,OAAQ,OACRC,IAAK,8BACLL,KAAMlC,EAAEwC,MAAMjB,GACdkB,SAAWC,eAAgB,uCAE/BC,QAAQ,SAAUT,EAAMU,EAAQH,EAASI,GACtCX,EAAOA,MACHA,EAAKY,OAAS,GACdzC,EAAOM,GAAGC,YAAeC,EAAG,IAAKC,EAAG,OAAQiC,OAAOb,GACnD7B,EAAOM,GAAGI,aAAe,MAGzBV,EAAOM,GAAGC,YAAeC,EAAG,IAAKC,EAAG,OACpCT,EAAOM,GAAGI,aAAe,OAG/BiC,MAAM,SAAUd,EAAMU,EAAQH,EAASI,OAI5CxC,EAAO4C,aAEP5C,EAAO6C,SAAW,SAAUC,GACxB5C,EAAI6C,YAAY,wBAAyB,kBAAmB,IAAK,MAGrE/C,EAAOgD,QAAU,WACb,GAAIC,GAAWtD,EAAE,eAAeyB,MAC5B8B,EAAavD,EAAE,iBAAiByB,KACpC+B,YAAW,WACPnD,EAAO+B,OAAO,WACV/B,EAAOM,GAAG2C,SAAWA,EACrBjD,EAAOM,GAAG4C,WAAaA,KAE5B,MAKpB,IAAIE,SAAU,SAAUC,GACpB1D,EAAE,eAAeyB,IAAIiC,EAAKC,MAC1B3D,EAAE,iBAAiByB,IAAIiC,EAAKE,IAC5B5D,EAAE,eAAe6D,QAAQ","file":"ApplyData.min.js","sourcesContent":["$(function () {\r\n    $('#rb1').attr('required', 'required');\r\n});\r\n\r\nangular.module(\"MyApp\", [\"PageM\",\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\", \"PageProvider\", \"ToolProvider\", \"$http\", function ($scope, PageProvider,TPM, $http) {\r\n\r\n             $scope.PM = PageProvider;\r\n             $scope.TM = {};\r\n             $scope.VM = {};\r\n\r\n             $scope.VM.CountyAry = [{ I: '0', N: \"全部\" }];\r\n             $scope.VM.SelectCounty = \"0\";\r\n\r\n             $scope.VM.TownAry = [{ I: '0', N: \"全部\" }];\r\n             $scope.VM.SelectTown = \"0\";\r\n\r\n             $scope.changePage = function (pageIndex) {\r\n                 $(\"#tmBlock\").show();\r\n                 var pgData = $scope.PM.genPageData(pageIndex);\r\n                 var postData = {};\r\n\r\n                 postData.BirthDateS = $(\"#BirthDateS\").val();\r\n                 postData.BirthDateE = $(\"#BirthDateE\").val();\r\n                 postData.CaseName = $(\"#CaseName\").val();\r\n                 postData.CaseIdNo = $(\"#CaseIdNo\").val();\r\n                 postData.HouseNo = $(\"#HouseNo\").val();\r\n\r\n                 postData.ContactName = $(\"#ContactName\").val();\r\n                 postData.ContactIdNo = $(\"#ContactIdNo\").val();\r\n                 postData.ContactBirthDate = $(\"#ContactBirthDate\").val();\r\n\r\n                 postData = $scope.PM.filterPageData(pgData, postData);\r\n\r\n                 $scope.PM.changePage(\"/Vaccination/CertificateM/PrintCertificate.aspx\", postData, function (data) {\r\n                     $scope.TM.data = data.message;\r\n                     $scope.$apply(function () { });\r\n                 });\r\n             };\r\n\r\n             $scope.changePage(1);\r\n\r\n             $scope.SelectCountyChange = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"Town\";\r\n                 postData[\"p\"] = $(\"#SelectCounty\").val();\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n                    data = data || [];\r\n                    if (data.length > 0) {\r\n                        $scope.VM.TownAry = [{ I: '0', N: \"全部\" }].concat(data);;\r\n                        $scope.VM.SelectTown = \"0\";\r\n                    }\r\n                    else {\r\n                        $scope.VM.TownAry = [{ I: '0', N: \"全部\" }];\r\n                        $scope.VM.SelectTown = \"0\";\r\n                    }\r\n                })\r\n                 .error(function (data, status, headers, config) {\r\n                 });\r\n             };\r\n\r\n             $scope.BindCounty = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"County\";\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n                    data = data || [];\r\n                    if (data.length > 0) {\r\n                        $scope.VM.CountyAry = [{ I: '0', N: \"全部\" }].concat(data);\r\n                        $scope.VM.SelectCounty = \"0\";\r\n                    }\r\n                    else {\r\n                        $scope.VM.CountyAry = [{ I: '0', N: \"全部\" }];\r\n                        $scope.VM.SelectCounty = \"0\";\r\n                    }\r\n                })\r\n                 .error(function (data, status, headers, config) {\r\n                 });\r\n             };\r\n\r\n             $scope.BindCounty();\r\n\r\n             $scope.openOrgs = function (record) {\r\n                 TPM.popUpWindow(\"/SelectSingleOrg.aspx\", \"SelectSingleOrg\", 620, 450);\r\n             };\r\n\r\n             $scope.refresh = function () {\r\n                 var location = $('#tbLocation').val();\r\n                 var locationID = $('#hfLocationID').val();\r\n                 setTimeout(function () {\r\n                     $scope.$apply(function () {\r\n                         $scope.VM.location = location;\r\n                         $scope.VM.locationID = locationID;\r\n                     });\r\n                 }, 1);\r\n             };\r\n\r\n         }]);\r\n\r\nvar getCode = function (code) {\r\n    $(\"#tbLocation\").val(code.text);\r\n    $(\"#hfLocationID\").val(code.id);\r\n    $('#refreshBtn').trigger('click');\r\n};\r\n\r\n\r\n"]}