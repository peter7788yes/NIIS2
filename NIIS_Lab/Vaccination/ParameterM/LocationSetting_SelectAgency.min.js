/*! NIIS 2016-05-09 */

$(function(){$(document).on("click","#cancelBtn",function(a){return window.close(),a.preventDefault(),!1}),window.addEventListener("popstate",function(){var a=history.state;if(null!=a){var b=document.querySelector("section"),c=angular.element(b).scope();c.$apply(function(){c.changePage(a.pageIndex,1)})}}),location.search.length>0&&setTimeout(function(){history.go(-1)},10)}),angular.module("MyApp",["PageM","cfp.hotkeys"]).controller("MyController",["$scope","PageProvider","$http","hotkeys",function(a,b,c,d){a.PM=b,a.TM={},a.VM={},a.VM.Vaccine="",a.VM.VaccineIDs="",a.VM.AN="",a.VM.CountyAry=[{I:"0",N:"全部"}],a.VM.TownAry=[{I:"0",N:"全部"}],a.VM.SelectCounty="0",a.VM.SelectTown="0",a.BindCounty=function(){var b={};b.a="County",c({method:"POST",url:"/Ashx/SystemAreaCodeOP.ashx",data:$.param(b),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(b,c,d,e){b=b||[],b.length>0?(a.VM.CountyAry=[].concat(b),a.VM.SelectCounty="0"):(a.VM.CountyAry=[],a.VM.SelectCounty="0")}).error(function(a,b,c,d){})},a.BindCounty(),a.SelectCountyChange=function(){var b={};b.a="Town",b.p=$("#SelectCounty").val(),c({method:"POST",url:"/Ashx/SystemAreaCodeOP.ashx",data:$.param(b),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(b,c,d,e){b=b||[],b.length>0?(a.VM.TownAry=[].concat(b),a.VM.SelectTown="0"):(a.VM.TownAry=[],a.VM.SelectTown="0")}).error(function(a,b,c,d){})},a.changePage=function(b){$("#tmBlock").show();var c=a.PM.genPageData(b),d={},d={};d.an=a.VM.AN,d.ac=a.VM.SelectCounty,d.at=a.VM.SelectTown,d=a.PM.filterPageData(c,d),a.PM.changePage("/Vaccination/ParameterM/LocationSetting_SelectAgencyOP.aspx",d,function(c){a.TM.data=c.message,a.$apply(function(){}),history.pushState&&void 0==noHistory&&(b>1||location.hash.length>0?history.pushState({pageIndex:b},document.title,location.href.split("?")[0]+"?#h"):history.replaceState({pageIndex:1},document.title,location.href))})},a.changePage(1),d.add({combo:"enter",description:"Description goes here",allowIn:["INPUT","BUTTON","SELECT","TEXTAREA"],callback:function(b,c){var d=document.activeElement.type;"text"!=d&&"select-one"!=d||a.changePage(1)}}),a.close=function(a){var b={};b.I=a.I,b.AN=a.AN,window.opener.getAgency(b),window.close()}}]);
//# sourceMappingURL=LocationSetting_SelectAgency.min.js.map