{"version":3,"sources":["StudentReRecord_Add.src.js"],"names":["$","document","on","e","location","href","preventDefault","angular","module","controller","$scope","VM","tbStudent","tbCard","percent","sAry","concat","selectSchool","Iary","Vary","Sary","TM","forEach","tbAry","value","key","sNumber","Number","Percent","push","EV","data","changeAll","changePercent","parseFloat","toFixed","toString","endsWith","parseInt","changePercent2","record","goAdd","getVI","repeatCallback","setTimeout","item","index"],"mappings":";;AAAAA,EAAE,WACEA,EAAEC,UAAUC,GAAG,QAAS,WAAY,SAAUC,GAG1C,MAFAC,UAASC,KAAO,4CAChBF,EAAEG,kBACK,MAIfC,QAAQC,OAAO,SAAU,UACfC,WAAW,gBAAiB,SAAU,SAAUC,GAE7CA,EAAOC,MACPD,EAAOC,GAAGC,UAAY,EACtBF,EAAOC,GAAGE,OAAS,EACnBH,EAAOC,GAAGG,QAAU,EAEpBJ,EAAOC,GAAGI,QAAUC,OAAOD,MAC3BL,EAAOC,GAAGM,aAAe,IAEzBP,EAAOC,GAAGO,QACVR,EAAOC,GAAGQ,QACVT,EAAOC,GAAGS,QAEVV,EAAOW,MAEPd,QAAQe,QAAQC,MAAO,SAAUC,EAAOC,GACpCD,EAAME,QAAU,EAChBF,EAAMG,OAAS,EACfH,EAAMI,QAAU,EAChBlB,EAAOC,GAAGQ,KAAKU,KAAKL,EAAMM,IAC1BpB,EAAOC,GAAGO,KAAKW,KAAK,GACpBnB,EAAOC,GAAGS,KAAKS,KAAK,KAIxBnB,EAAOW,GAAGU,KAAOR,MAEjBb,EAAOsB,UAAY,WACftB,EAAOuB,gBACHvB,EAAOC,GAAGC,UAAY,GACtBL,QAAQe,QAAQZ,EAAOW,GAAGU,KAAM,SAAUP,EAAOC,GAC7C,GAAIX,IAAYoB,WAAWV,EAAMG,QAAUO,WAAWxB,EAAOC,GAAGC,WAAc,KAAKuB,QAAQ,EACvFrB,GAAQsB,WAAWC,SAAS,SAC5BvB,EAAUwB,SAASxB,EAAQsB,aAC/BZ,EAAMI,QAAUd,KAM5BJ,EAAOuB,cAAgB,WAEnB,GAAIvB,EAAOC,GAAGC,UAAY,EAAG,CACzB,GAAIE,IAAWoB,WAAWxB,EAAOC,GAAGE,QAAUqB,WAAWxB,EAAOC,GAAGC,WAAc,KAAKuB,QAAQ,EAC3FrB,GAAQsB,WAAWC,SAAS,SAC3BvB,EAAUwB,SAASxB,EAAQsB,aAC/B1B,EAAOC,GAAGG,QAAUA,IAI5BJ,EAAO6B,eAAiB,SAAUC,GAK9B,GAHIA,EAAOb,OAASa,EAAOd,UACvBc,EAAOb,OAASa,EAAOd,SAEvBc,EAAOd,QAAU,EAAG,CACpB,GAAIZ,IAAYoB,WAAWM,EAAOb,QAAUO,WAAWM,EAAOd,SAAY,KAAKS,QAAQ,EACnFrB,GAAQsB,WAAWC,SAAS,SAC5BvB,EAAUwB,SAASxB,EAAQsB,aAC/BI,EAAOZ,QAAUd,IAKzBJ,EAAO+B,MAAQ,WACXC,IAGJ,IAAIA,GAAQ,WAERhC,EAAOC,GAAGQ,QACVT,EAAOC,GAAGO,QACVR,EAAOC,GAAGS,QAEVb,QAAQe,QAAQZ,EAAOW,GAAGU,KAAM,SAAUP,EAAOC,GAC7Cf,EAAOC,GAAGQ,KAAKU,KAAKL,EAAMM,IAC1BpB,EAAOC,GAAGO,KAAKW,KAAKL,EAAMG,QAC1BjB,EAAOC,GAAGS,KAAKS,KAAKL,EAAME,WAQlChB,GAAOiC,eAAiB,WACpBC,WAAW,WACPrC,QAAQe,QAAQtB,EAAE,wBAAyB,SAAU6C,EAAMC,GACrC,KAAdD,EAAKrB,QACLqB,EAAKrB,MAAQ,OAEtB","file":"StudentReRecord_Add.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#lastBtn\", function (e) {\r\n        location.href = \"/Vaccination/RecordM/StudentReRecord.aspx\";\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n});\r\n\r\nangular.module(\"MyApp\", [\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\", function ($scope) {\r\n\r\n             $scope.VM = {};\r\n             $scope.VM.tbStudent = 0;\r\n             $scope.VM.tbCard = 0;\r\n             $scope.VM.percent = 0;\r\n\r\n             $scope.VM.sAry = [].concat(sAry);\r\n             $scope.VM.selectSchool = \"0\";\r\n\r\n             $scope.VM.Iary = [];\r\n             $scope.VM.Vary = [];\r\n             $scope.VM.Sary = [];\r\n\r\n             $scope.TM = {};\r\n\r\n             angular.forEach(tbAry, function (value, key) {\r\n                 value.sNumber = 0;\r\n                 value.Number = 0;\r\n                 value.Percent = 0;\r\n                 $scope.VM.Vary.push(value.EV);\r\n                 $scope.VM.Iary.push(0);\r\n                 $scope.VM.Sary.push(0);\r\n             });\r\n\r\n             //console.log(tbAry);\r\n             $scope.TM.data = tbAry;\r\n\r\n             $scope.changeAll = function () {\r\n                 $scope.changePercent();\r\n                 if ($scope.VM.tbStudent > 0) {\r\n                     angular.forEach($scope.TM.data, function (value, key) {\r\n                         var percent = ((parseFloat(value.Number) / parseFloat($scope.VM.tbStudent)) * 100).toFixed(2);\r\n                         if (percent.toString().endsWith(\".00\"))\r\n                             percent = parseInt(percent.toString());\r\n                         value.Percent = percent;\r\n                     });\r\n                 }\r\n                 //getVI();\r\n             };\r\n\r\n             $scope.changePercent = function () {\r\n\r\n                 if ($scope.VM.tbStudent > 0) {\r\n                     var percent =((parseFloat($scope.VM.tbCard) / parseFloat($scope.VM.tbStudent)) * 100).toFixed(2);\r\n                     if(percent.toString().endsWith(\".00\"))\r\n                         percent = parseInt(percent.toString());\r\n                     $scope.VM.percent = percent;\r\n                 }\r\n             };\r\n\r\n             $scope.changePercent2 = function (record) {\r\n\r\n                 if (record.Number > record.sNumber)\r\n                     record.Number = record.sNumber;\r\n\r\n                 if (record.sNumber > 0) {\r\n                     var percent = ((parseFloat(record.Number) / parseFloat(record.sNumber)) * 100).toFixed(2);\r\n                     if (percent.toString().endsWith(\".00\"))\r\n                         percent = parseInt(percent.toString());\r\n                     record.Percent = percent;\r\n                 }\r\n                 //getVI();\r\n             };\r\n\r\n             $scope.goAdd = function () {\r\n                 getVI();\r\n             };\r\n\r\n             var getVI = function () {\r\n\r\n                 $scope.VM.Vary = [];\r\n                 $scope.VM.Iary = [];\r\n                 $scope.VM.Sary = [];\r\n\r\n                 angular.forEach($scope.TM.data, function (value, key) {\r\n                     $scope.VM.Vary.push(value.EV);\r\n                     $scope.VM.Iary.push(value.Number);\r\n                     $scope.VM.Sary.push(value.sNumber);\r\n                 });\r\n\r\n                 //console.log($scope.VM.Vary);\r\n                 //console.log($scope.VM.Iary);\r\n                 //console.log($scope.VM.Sary);\r\n             };\r\n\r\n             $scope.repeatCallback = function () {\r\n                 setTimeout(function () {\r\n                     angular.forEach($(\"input[type='number']\"), function (item, index) {\r\n                         if (item.value == \"0\")\r\n                             item.value = \"\";\r\n                     });\r\n                 }, 0);\r\n             };\r\n\r\n}]);\r\n"]}