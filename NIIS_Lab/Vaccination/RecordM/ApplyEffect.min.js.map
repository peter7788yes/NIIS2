{"version":3,"sources":["ApplyEffect.src.js"],"names":["goDate","element","WdatePicker","el","$","attr","dateFmt","lang","goChange","et","this","index","atrr","elementScope","angular","scope","TM","data1","ES","val","data2","CC","II","RR","AA","UU","alert","window","close","document","on","e","preventDefault","ev","esv","es","ed","each","item","undefined","push","EV","ESV","ED","UUdata","D3","prop","D7","module","controller","$scope","$http","show","UUdataList","ET","index2","item2","repeatCallback","console","log","setTimeout","forEach","value","onbeforeunload","opener","popOpenedWindows"],"mappings":"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","file":"ApplyEffect.min.js","sourcesContent":["var goDate = function (element) {\r\n    WdatePicker({ el: 'tbDateStart' + $(element).attr('id'), dateFmt: 'yyyMMdd', lang: 'zh-tw' });\r\n};\r\n\r\nvar goChange = function () {\r\n    var et = $(this).attr(\"ng-et\");\r\n    var index = $(this).atrr(\"ng-index\");\r\n    var element = $('section')[0];\r\n    var elementScope = angular.element(element).scope();\r\n    if (et == 1) {\r\n        elementScope.TM.data1[index].ES = $(this).val();\r\n    }\r\n    else {\r\n        elementScope.TM.data2[index].ES = $(this).val();\r\n    }\r\n};\r\n\r\n$(function () {\r\n    if (CC == 0 || II == 0 || RR == \"\" || AA == \"\") {\r\n        if (UU == 0) {\r\n            alert('資料取得失敗'); window.close();\r\n        }\r\n    }\r\n\r\n    $(document).on(\"click\", \"#closeBtn\", function (e) {\r\n        window.close();\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    $(document).on(\"click\", \"#btnSave\", function (e) {\r\n        var element = $('section')[0];\r\n        var elementScope = angular.element(element).scope();\r\n        var et = [];\r\n        var ev = [];\r\n        var esv = [];\r\n        var es = [];\r\n        var ed = [];\r\n        $.each(elementScope.TM.data1, function (index, item) {\r\n            //console.log(item);\r\n            if(item.ES != null && item.ES != undefined && item.ES != \"\") {\r\n                et.push(1);\r\n                ev.push(item.EV);\r\n                esv.push(item.ESV == null || item.ESV == \"\" ? \"0\" : item.ESV);\r\n                es.push(item.ES);\r\n                ed.push(item.ED);\r\n            }\r\n        });\r\n\r\n        $.each(elementScope.TM.data2, function (index, item) {\r\n            //console.log(item);\r\n            if (item.ES != null && item.ES != undefined && item.ES != \"\") {\r\n                et.push(2);\r\n                ev.push(item.EV);\r\n                esv.push(item.ESV == null || item.ESV == \"\" ? \"0\" : item.ESV);\r\n                es.push(item.ES);\r\n                ed.push(item.ED);\r\n            }\r\n        });\r\n    \r\n\r\n        $('#et').val(et);\r\n        $('#ev').val(ev);\r\n        $('#esv').val(esv);\r\n        $('#es').val(es);\r\n        $('#ed').val(ed);\r\n            \r\n        //e.preventDefault();\r\n        //return false;\r\n    });\r\n\r\n\r\n    if (UUdata.D3 == 1)\r\n        $(\"#rb3b\").prop(\"checked\", true);\r\n    else\r\n        $(\"#rb3a\").prop(\"checked\", true);\r\n\r\n    if (UUdata.D7 == 1)\r\n        $(\"#rb7b\").prop(\"checked\", true);\r\n    else\r\n        $(\"#rb7a\").prop(\"checked\", true);\r\n    \r\n});\r\n\r\n\r\nangular.module(\"MyApp\", [\"FilterM\",\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\", \"$http\", function ($scope, $http) {\r\n             $scope.TM = {};\r\n             $scope.TM.data1 = data1;\r\n             $scope.TM.data2 = data2;\r\n             $(\".tmBlock\").show();\r\n\r\n             $.each(UUdataList, function (index, item) {\r\n                 if (item.ET == 1) {\r\n                     $.each($scope.TM.data1, function (index2, item2) {\r\n                         if (item.EV == item2.EV) {\r\n                             item2.EV = item.EV;\r\n                             item2.ESV = item.ESV;\r\n                             item2.ES = item.ES;\r\n                             item2.ED = item.ED;\r\n                         }\r\n                     });\r\n                 }\r\n                 else if (item.ET == 2) {\r\n                     $.each($scope.TM.data2, function (index2, item2) {\r\n                         if (item.EV == item2.EV) {\r\n                             item2.EV = item.EV;\r\n                             item2.ESV = item.ESV;\r\n                             item2.ES = item.ES;\r\n                             item2.ED = item.ED;\r\n                         }\r\n                     });\r\n                 }\r\n             });\r\n\r\n             $scope.repeatCallback = function () {\r\n                 console.log(9999999999999999999);\r\n                 setTimeout(function () {\r\n                     angular.forEach($(\"input[type='number']\"), function (item, index) {\r\n                         if (item.value == \"0\")\r\n                             item.value = \"\";\r\n                     });\r\n                 }, 0);\r\n             };\r\n}]);\r\n\r\nwindow.onbeforeunload = function () {\r\n    window.opener.popOpenedWindows(\"ApplyRecord\");\r\n};"]}