{"version":3,"sources":["AddVaccine.src.js"],"names":["$","document","on","e","window","close","preventDefault","angular","module","controller","$scope","$http","TM","data","tbAry","length","alert","show","goAdd","record","postData","C","VI","method","url","param","headers","Content-Type","success","status","config","chk","rtnData","message","opener","getNewVaccine","error"],"mappings":";;AAAAA,EAAE,WACEA,EAAEC,UAAUC,GAAG,QAAS,YAAa,SAAUC,GAG3C,MAFAC,QAAOC,QACPF,EAAEG,kBACK,MAIfC,QAAQC,OAAO,YACLC,WAAW,gBAAiB,SAAU,QAAS,SAAUC,EAAQC,GAE9DD,EAAOE,MACPF,EAAOE,GAAGC,KAAOC,MACjBA,MAAQA,UACY,GAAhBA,MAAMC,SACNC,MAAM,YACNZ,OAAOC,SAGXL,EAAE,YAAYiB,OAEdP,EAAOQ,MAAQ,SAAUC,GACrB,GAAIC,KACJA,GAAY,EAAIC,EAChBD,EAAY,EAAID,EAAOG,GAEvBX,GACIY,OAAQ,OACRC,IAAK,yCACLX,KAAMb,EAAEyB,MAAML,GACdM,SAAWC,eAAgB,uCAE/BC,QAAQ,SAAUf,EAAMgB,EAAQH,EAASI,GACtC,GAAIjB,EAAKkB,IAAM,EAAG,CAGd,GAAIC,KAMJ,OALAA,GAAW,EAAInB,EAAKoB,QACpBD,EAAW,EAAIb,EAAOG,GACtBlB,OAAO8B,OAAOC,cAAcH,GAC5BhB,MAAM,OACNZ,OAAOC,SACA,EAGPW,MAAM,UAGboB,MAAM,SAAUvB,EAAMgB,EAAQH,EAASI","file":"AddVaccine.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#closeBtn\", function (e) {\r\n        window.close();\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n});\r\n\r\nangular.module(\"MyApp\", [])\r\n         .controller(\"MyController\", [\"$scope\", \"$http\", function ($scope, $http) {\r\n          \r\n             $scope.TM = {};\r\n             $scope.TM.data = tbAry;\r\n             tbAry = tbAry || [];\r\n             if (tbAry.length == 0) {\r\n                 alert('全部疫苗都已加入');\r\n                 window.close();\r\n             }\r\n\r\n             $(\"#tmBlock\").show();\r\n\r\n             $scope.goAdd = function (record) {\r\n                 var postData = {};\r\n                 postData[\"C\"] = C;\r\n                 postData[\"R\"] = record.VI;\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Vaccination/RecordM/AddVaccineOP.aspx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n                    if (data.chk > 0) {\r\n                        //console.log(data);\r\n                        //{chk: 1, message: \"30\"}\r\n                        var rtnData={};\r\n                        rtnData[\"I\"] = data.message;\r\n                        rtnData[\"R\"] = record.VI;\r\n                        window.opener.getNewVaccine(rtnData);\r\n                        alert(\"已加入\");\r\n                        window.close();\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        alert('儲存失敗');\r\n                    }\r\n                })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n             };\r\n\r\n}]);\r\n\r\n"]}