{"version":3,"sources":["StudentRecord_Add.src.js"],"names":["$","document","on","e","location","href","preventDefault","angular","module","controller","$scope","VM","tbStudent","tbCard","percent","sAry","concat","selectSchool","Iary","Vary","TM","forEach","tbAry","value","key","Number","Percent","push","EV","data","changeAll","changePercent","parseFloat","toFixed","toString","endsWith","parseInt","changePercent2","record","goAdd","getVI","repeatCallback","setTimeout","item","index"],"mappings":";;AAAAA,EAAE,WACEA,EAAEC,UAAUC,GAAG,QAAS,WAAY,SAAUC,GAG1C,MAFAC,UAASC,KAAO,0CAChBF,EAAEG,kBACK,MAKfC,QAAQC,OAAO,SAAU,UACfC,WAAW,gBAAiB,SAAU,SAAUC,GAE7CA,EAAOC,MACPD,EAAOC,GAAGC,UAAY,EACtBF,EAAOC,GAAGE,OAAS,EACnBH,EAAOC,GAAGG,QAAU,EAEpBJ,EAAOC,GAAGI,QAAUC,OAAOD,MAC3BL,EAAOC,GAAGM,aAAe,GAEzBP,EAAOC,GAAGO,QACVR,EAAOC,GAAGQ,QAEVT,EAAOU,MAEPb,QAAQc,QAAQC,MAAO,SAAUC,EAAOC,GACpCD,EAAME,OAAS,EACfF,EAAMG,QAAU,EAChBhB,EAAOC,GAAGQ,KAAKQ,KAAKJ,EAAMK,IAC1BlB,EAAOC,GAAGO,KAAKS,KAAK,KAKxBjB,EAAOU,GAAGS,KAAOP,MAGjBZ,EAAOoB,UAAY,WACfpB,EAAOqB,gBACHrB,EAAOC,GAAGC,UAAY,GACtBL,QAAQc,QAAQX,EAAOU,GAAGS,KAAM,SAAUN,EAAOC,GAC7C,GAAIV,IAAYkB,WAAWT,EAAME,QAAUO,WAAWtB,EAAOC,GAAGC,WAAc,KAAKqB,QAAQ,EACvFnB,GAAQoB,WAAWC,SAAS,SAC5BrB,EAAUsB,SAAStB,EAAQoB,aAC/BX,EAAMG,QAAUZ,KAO5BJ,EAAOqB,cAAgB,WAEnB,GAAIrB,EAAOC,GAAGC,UAAY,EAAG,CACzB,GAAIE,IAAYkB,WAAWtB,EAAOC,GAAGE,QAAUmB,WAAWtB,EAAOC,GAAGC,WAAc,KAAKqB,QAAQ,EAC3FnB,GAAQoB,WAAWC,SAAS,SAC5BrB,EAAUsB,SAAStB,EAAQoB,aAC/BxB,EAAOC,GAAGG,QAAUA,IAM5BJ,EAAO2B,eAAiB,SAAUC,GAE9B,GAAI5B,EAAOC,GAAGC,UAAY,EAAG,CACzB,GAAIE,IAAYkB,WAAWM,EAAOb,QAAUO,WAAWtB,EAAOC,GAAGC,WAAc,KAAKqB,QAAQ,EACxFnB,GAAQoB,WAAWC,SAAS,SAC5BrB,EAAUsB,SAAStB,EAAQoB,aAC/BI,EAAOZ,QAAUZ,IAMzBJ,EAAO6B,MAAQ,WACXC,IAKJ,IAAIA,GAAQ,WAER9B,EAAOC,GAAGQ,QACVT,EAAOC,GAAGO,QAEVX,QAAQc,QAAQX,EAAOU,GAAGS,KAAM,SAAUN,EAAOC,GAC7Cd,EAAOC,GAAGQ,KAAKQ,KAAKJ,EAAMK,IAC1BlB,EAAOC,GAAGO,KAAKS,KAAKJ,EAAME,UAOlCf,GAAO+B,eAAiB,WACpBC,WAAW,WACPnC,QAAQc,QAAQrB,EAAE,wBAAyB,SAAU2C,EAAKC,GACpC,KAAdD,EAAKpB,QACLoB,EAAKpB,MAAQ,OAEtB","file":"StudentRecord_Add.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#lastBtn\", function (e) {\r\n        location.href = \"/Vaccination/RecordM/StudentRecord.aspx\";\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n});\r\n\r\nangular.module(\"MyApp\", [\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\", function ($scope) {\r\n\r\n             $scope.VM = {};\r\n             $scope.VM.tbStudent = 0;\r\n             $scope.VM.tbCard = 0;\r\n             $scope.VM.percent = 0;\r\n\r\n             $scope.VM.sAry = [].concat(sAry);\r\n             $scope.VM.selectSchool = \"\";\r\n\r\n             $scope.VM.Iary = [];\r\n             $scope.VM.Vary = [];\r\n\r\n             $scope.TM = {};\r\n\r\n             angular.forEach(tbAry, function (value, key) {\r\n                 value.Number = 0;\r\n                 value.Percent = 0;\r\n                 $scope.VM.Vary.push(value.EV);\r\n                 $scope.VM.Iary.push(0);\r\n             });\r\n\r\n\r\n             //console.log(tbAry);\r\n             $scope.TM.data = tbAry;\r\n\r\n           \r\n             $scope.changeAll = function () {\r\n                 $scope.changePercent();\r\n                 if ($scope.VM.tbStudent > 0) {\r\n                     angular.forEach($scope.TM.data, function (value, key) {\r\n                         var percent = ((parseFloat(value.Number) / parseFloat($scope.VM.tbStudent)) * 100).toFixed(2);\r\n                         if (percent.toString().endsWith(\".00\"))\r\n                             percent = parseInt(percent.toString());\r\n                         value.Percent = percent;\r\n                     });\r\n                 }\r\n                 //getVI();\r\n             };\r\n\r\n\r\n             $scope.changePercent = function () {\r\n\r\n                 if ($scope.VM.tbStudent > 0) {\r\n                     var percent = ((parseFloat($scope.VM.tbCard) / parseFloat($scope.VM.tbStudent)) * 100).toFixed(2);\r\n                     if (percent.toString().endsWith(\".00\"))\r\n                         percent = parseInt(percent.toString());\r\n                     $scope.VM.percent = percent;\r\n                 }\r\n\r\n             };\r\n\r\n\r\n             $scope.changePercent2 = function (record) {\r\n\r\n                 if ($scope.VM.tbStudent > 0) {\r\n                     var percent = ((parseFloat(record.Number) / parseFloat($scope.VM.tbStudent)) * 100).toFixed(2);\r\n                     if (percent.toString().endsWith(\".00\"))\r\n                         percent = parseInt(percent.toString());\r\n                     record.Percent = percent;\r\n                 }\r\n                 //getVI();\r\n             };\r\n\r\n             \r\n             $scope.goAdd = function () {\r\n                 getVI();\r\n             };\r\n\r\n           \r\n\r\n             var getVI = function () {\r\n\r\n                 $scope.VM.Vary = [];\r\n                 $scope.VM.Iary = [];\r\n\r\n                 angular.forEach($scope.TM.data, function (value, key) {\r\n                     $scope.VM.Vary.push(value.EV);\r\n                     $scope.VM.Iary.push(value.Number);\r\n                 });\r\n\r\n                 //console.log($scope.VM.Vary);\r\n                 //console.log($scope.VM.Iary);\r\n             };\r\n\r\n             $scope.repeatCallback = function () {\r\n                 setTimeout(function () {\r\n                     angular.forEach($(\"input[type='number']\"), function (item,index) {\r\n                         if (item.value == \"0\")\r\n                             item.value = \"\";\r\n                     });\r\n                 }, 0);\r\n             };\r\n            \r\n}]);\r\n"]}