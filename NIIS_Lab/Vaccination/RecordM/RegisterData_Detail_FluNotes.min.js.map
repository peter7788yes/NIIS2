{"version":3,"sources":["RegisterData_Detail_FluNotes.src.js"],"names":["changeYellowCardUpdateRecord","info","$","text","changeCaseUserRemark","document","on","e","location","href","preventDefault","history","go","angular","module","controller","$scope","PageProvider","$http","PM","TM","data","tbAry","VM","u","uJson","title","publishState","openStool","postData","CC","method","url","param","headers","Content-Type","success","status","config","console","log","error","goStool","s","goFlu","f","FN","goAddYellowCard","record","obj","TPM","openWindowWithPost","goAddRemark","goChooseCate","RID","SRVC","AD","goDetail","encodeURIComponent","AE","goAddVaccine","forEach","item","index","push","getClass","rtn","getRecordDataID","controllerElement","querySelector","controllerScope","element","scope","$apply","keepGoing","SCode","VBID","AddApplyRecord","CD","VB","ID","ON","getNewVaccine","Vobj","YMID","P","SRVID","OI","CT","IR","thisIndex","splice"],"mappings":"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","file":"RegisterData_Detail_FluNotes.min.js","sourcesContent":["\r\nvar changeYellowCardUpdateRecord = function (info) {\r\n    $(\"#YellowCardUpdateRecord\").text(info);\r\n};\r\n\r\nvar changeCaseUserRemark = function (info) {\r\n    $(\"#CaseUserRemark\").text(info);\r\n};\r\n\r\n$(function () {\r\n    $(document).on(\"click\", \"#addBtn\", function (e) {\r\n        location.href = \"/Vaccination/RecordM/RegisterData_Add.aspx\";\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    $(document).on(\"click\", \"#lastBtn\", function (e) {\r\n        history.go(-1);\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n});\r\n\r\nangular.module(\"MyApp\", [\"PageM\",\"FilterM\"])\r\n         .controller(\"MyController\", [\"$scope\", \"PageProvider\", \"$http\", function ($scope, PageProvider, $http) {\r\n\r\n             $scope.PM = PageProvider;\r\n             $scope.TM = {};\r\n             $scope.TM.data = tbAry;\r\n\r\n             $scope.VM = {};\r\n             $scope.VM.u = uJson;\r\n             $scope.VM.title = \"\";\r\n             $scope.VM.publishState = \"0\";\r\n            \r\n             $scope.openStool = function () {\r\n                 var postData = {};\r\n                 postData[\"c\"] = CC;\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Vaccination/RecordM/RegisterData_Detail_StoolOP.aspx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n                    console.log(1111);\r\n                })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n             };\r\n\r\n             $scope.goStool = function (s) {\r\n                 var postData = {};\r\n                 postData[\"s\"] = s;\r\n                 postData[\"c\"] = CC;\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Vaccination/RecordM/RegisterData_Detail_StoolOP.aspx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n                    console.log(1111);\r\n                })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n             };\r\n\r\n             $scope.goFlu = function (f) {\r\n                 var postData = {};\r\n                 postData[\"f\"] = $scope.VM.u.FN == true ? 1 : 0;\r\n                 postData[\"c\"] = CC;\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Vaccination/RecordM/RegisterData_Detail_FluOP.aspx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n\r\n                })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n             };\r\n\r\n             $scope.goAddYellowCard = function (record) {\r\n                 var obj = {};\r\n                 obj[\"c\"] = CC;\r\n                 TPM.openWindowWithPost(\"/Vaccination/RecordM/YellowCard_Add.aspx\", \"YellowCard_Add\", 610, 300, obj);\r\n             };\r\n\r\n             $scope.goAddRemark = function (record) {\r\n                 var obj = {};\r\n                 obj[\"c\"] = CC;\r\n                 TPM.openWindowWithPost(\"/Vaccination/RecordM/CaseUserRemark_Add.aspx\", \"CaseUserRemark_Add\", 610, 300, obj);\r\n             };\r\n\r\n             $scope.goChooseCate = function (record) {\r\n                 var obj = {};\r\n                 obj[\"c\"] = CC;\r\n                 obj[\"i\"] = record.RID;\r\n                 obj[\"r\"] = record.SRVC;\r\n                 obj[\"a\"] = record.AD;\r\n                 TPM.openWindowWithPost(\"/Vaccination/RecordM/ChooseCate.aspx\", \"ChooseCate\", 610, 300, obj);\r\n             };\r\n\r\n             $scope.goDetail = function (record) {\r\n                 var obj = {};\r\n                 obj[\"c\"] = CC;\r\n                 obj[\"i\"] = record.RID;\r\n                 obj[\"r\"] = record.SRVC;\r\n                 obj[\"a\"] = record.AD;\r\n                 obj['ae'] = encodeURIComponent(record.AE);\r\n                 TPM.openWindowWithPost(\"/Vaccination/RecordM/RecordDetail.aspx\", \"RecordDetail\", 930, 450, obj);\r\n             };\r\n\r\n             $scope.goAddVaccine = function (record) {\r\n                 var data = [];\r\n                 angular.forEach($scope.TM.data, function (item, index) {\r\n                     data.push(item.SRVC);\r\n                 });\r\n                 var obj = {};\r\n                 obj[\"a\"] = data;\r\n                 obj[\"c\"] = CC;\r\n                 TPM.openWindowWithPost(\"/Vaccination/RecordM/AddVaccine.aspx\", \"AddVaccine\", 930, 450,obj);\r\n             };\r\n\r\n             $scope.getClass = function (record) {\r\n                 var rtn='';\r\n                 switch (record.CC) {\r\n                     case 1:\r\n                         rtn = 'yellowcolor';\r\n                       \r\n                         break;\r\n                     case 2:\r\n                         rtn = 'pinkcolor';\r\n                         break;\r\n                 }\r\n                 return rtn;\r\n             };\r\n\r\n\r\n             function htmlEncode(value) {\r\n                 //create a in-memory div, set it's inner text(which jQuery automatically encodes)\r\n                 //then grab the encoded contents back out.  The div never exists on the page.\r\n                 return $('<div/>').text(value).html();\r\n             }\r\n\r\n             function htmlDecode(value) {\r\n                 return $('<div/>').html(value).text();\r\n             }\r\n}]);\r\n\r\nvar getRecordDataID = function (obj) {\r\n    var controllerElement = document.querySelector('section');\r\n    var controllerScope = angular.element(controllerElement).scope();\r\n    controllerScope.$apply(function () {\r\n        var keepGoing = true;\r\n        angular.forEach(controllerScope.TM.data, function (item, index) {\r\n            if (keepGoing) {\r\n                if (obj.SCode == item.SRVC) {\r\n                    item.RID = obj.RID;\r\n                    item.VBID = VBID;\r\n                    keepGoing = false;\r\n                }\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\nvar AddApplyRecord =function(obj)\r\n{\r\n    if (obj == null)\r\n        return;\r\n\r\n    var controllerElement = document.querySelector('section');\r\n    var controllerScope = angular.element(controllerElement).scope();\r\n    controllerScope.$apply(function () {\r\n        var keepGoing = true;\r\n        angular.forEach(controllerScope.TM.data, function (item, index) {\r\n            if (keepGoing) {\r\n              \r\n                if (item.RID == obj.RID) {\r\n                    item.CD = obj.CD;\r\n                    item.VB = obj.VB;\r\n                    item.ID = obj.ID;\r\n                    item.ON = obj.ON;\r\n                }\r\n            }\r\n        });\r\n    });\r\n}\r\nvar getNewVaccine = function (obj) {\r\n\r\n    var Vobj =\r\n    {\r\n        \"YMID\": 0,\r\n        \"RID\": obj[\"I\"],\r\n        \"AE\": \"\",\r\n        \"P\": 0,\r\n        \"SRVID\": 0,\r\n        \"SRVC\": obj[\"R\"],\r\n        \"ID\": null,\r\n        \"CD\": null,\r\n        \"OI\": 0,\r\n        \"CT\": \"\",\r\n        \"VB\": 0,\r\n        \"AD\": null,\r\n        \"ON\": ON,\r\n        \"CC\": 0,\r\n        \"IR\": false\r\n    };\r\n\r\n    var controllerElement = document.querySelector('section');\r\n    var controllerScope = angular.element(controllerElement).scope();\r\n    controllerScope.$apply(function () {\r\n        var thisIndex = 0;\r\n        angular.forEach(controllerScope.TM.data, function (item, index) {\r\n            if(thisIndex ==0 && item.ID!=null){\r\n                var thisIndex = index;\r\n            }\r\n        });\r\n        controllerScope.TM.data.splice(thisIndex, 0, Vobj);\r\n    });\r\n};"]}