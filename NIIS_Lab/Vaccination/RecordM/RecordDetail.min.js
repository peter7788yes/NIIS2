/*! NIIS 2016-05-09 */

$(function(){$(document).on("click","#closeBtn",function(a){return window.close(),a.preventDefault(),!1})});var refreshHealth=function(a){var b=document.querySelector("section"),c=angular.element(b).scope();c.$apply(function(){angular.forEach(c.TM.ApplyHealth,function(b,c){b.I==a.I&&(b.AD=a.AD,b.N=a.N,b.ON=a.ON,b.AS=a.AS,b.OS=a.OS,b.AW=a.AW)})})},refreshEffect=function(a){var b=document.querySelector("section"),c=angular.element(b).scope();c.$apply(function(){angular.forEach(c.TM.ApplyEffect,function(b,c){b.I==a.I&&(b.SD=a.SD,b.UN=a.UN,b.ON=a.ON,b.ED=a.ED,b.D3=a.D3,b.D7=a.D7)})})};angular.module("MyApp",["FilterM","ToolM"]).controller("MyController",["$scope","ToolProvider","$http",function(a,b,c){a.TM={},a.TM.ApplyRecord=[],a.TM.ApplyHealth=[],a.TM.ApplyEffect=[],a.TM.ApplyRecord=ApplyRecord,a.TM.ApplyHealth=ApplyHealth,a.TM.ApplyEffect=ApplyEffect,$("#tmBlockRecord").show(),$("#tmBlockHealth").show(),$("#tmBlockEffect").show(),a.RemoveApplyRecord=function(a){var b={};b.I=a.I},a.RemoveApplyHealth=function(b){var d={};d.I=b.I,c({method:"POST",url:"/Vaccination/RecordM/ApplyHealth_RemoveOP.aspx",data:$.param(d),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(c,d,e,f){c.chk=c.chk||0,c.chk>0?(angular.forEach(a.TM.ApplyHealth,function(c,d){c.I==b.I&&a.TM.ApplyHealth.splice(d,1)}),alert("儲存成功")):alert("儲存失敗")}).error(function(a,b,c,d){})},a.RemoveApplyEffect=function(b){var d={};d.i=b.I,console.log(b.I),c({method:"POST",url:"/Vaccination/RecordM/ApplyEffect_RemoveOP.aspx",data:$.param(d),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(c,d,e,f){c.chk=c.chk||0,c.chk>0?(angular.forEach(a.TM.ApplyEffect,function(c,d){c.I==b.I&&a.TM.ApplyEffect.splice(d,1)}),alert("儲存成功")):alert("儲存失敗")}).error(function(a,b,c,d){})},a.goHealth=function(a){var c={};c.uu=a.I,b.openWindowWithPost("/Vaccination/RecordM/ApplyHealth.aspx","ApplyHealth",920,450,c)},a.goRecord=function(a){var c={};c.c=CC,c.i=II,c.r=RR,c.a=AA,c.uu=a.I,b.openWindowWithPost("/Vaccination/RecordM/ApplyRecord.aspx","ApplyRecord",930,330,c)},a.goEffect=function(a){var c={};c.uu=a.I,b.openWindowWithPost("/Vaccination/RecordM/ApplyEffect.aspx","ApplyEffect",930,630,c)}}]);
//# sourceMappingURL=RecordDetail.min.js.map