{"version":3,"sources":["RecordDetail.src.js"],"names":["$","document","on","e","window","close","preventDefault","refreshHealth","obj","controllerElement","querySelector","controllerScope","angular","element","scope","$apply","forEach","TM","ApplyHealth","item","index","I","refreshEffect","ApplyEffect","module","controller","$scope","TPM","$http","ApplyRecord","show","RemoveApplyRecord","record","postData","RemoveApplyHealth","method","url","data","param","headers","Content-Type","success","status","config","chk","value","key","splice","alert","error","RemoveApplyEffect","console","log","goHealth","openWindowWithPost","goRecord","CC","II","RR","AA","goEffect"],"mappings":"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","file":"RecordDetail.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#closeBtn\", function (e) {\r\n        window.close();\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n});\r\n\r\nvar refreshHealth = function (obj) {\r\n    var controllerElement = document.querySelector('section');\r\n    var controllerScope = angular.element(controllerElement).scope();\r\n    controllerScope.$apply(function () {\r\n        angular.forEach(controllerScope.TM.ApplyHealth, function (item, index) {\r\n            if (item.I == obj.I) {\r\n                item[\"AD\"] = obj[\"AD\"]\r\n                item[\"N\"] = obj[\"N\"]\r\n                item[\"ON\"] = obj[\"ON\"]\r\n                item[\"AS\"] = obj[\"AS\"]\r\n                item[\"OS\"] = obj[\"OS\"]\r\n                item[\"AW\"] = obj[\"AW\"]\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\nvar refreshEffect = function (obj) {\r\n    var controllerElement = document.querySelector('section');\r\n    var controllerScope = angular.element(controllerElement).scope();\r\n    controllerScope.$apply(function () {\r\n        angular.forEach(controllerScope.TM.ApplyEffect, function (item, index) {\r\n            if (item.I == obj.I) {\r\n                item[\"SD\"] = obj[\"SD\"]\r\n                item[\"UN\"] = obj[\"UN\"]\r\n                item[\"ON\"] = obj[\"ON\"]\r\n                item[\"ED\"] = obj[\"ED\"]\r\n                item[\"D3\"] = obj[\"D3\"]\r\n                item[\"D7\"] = obj[\"D7\"]\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\nangular.module(\"MyApp\", [\"FilterM\",\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\",\"ToolProvider\", \"$http\", function ($scope,TPM, $http) {\r\n                $scope.TM = {};\r\n                $scope.TM.ApplyRecord = [];\r\n                $scope.TM.ApplyHealth = [];\r\n                $scope.TM.ApplyEffect = [];\r\n                $scope.TM.ApplyRecord = ApplyRecord;\r\n                $scope.TM.ApplyHealth = ApplyHealth;\r\n                $scope.TM.ApplyEffect = ApplyEffect;\r\n               \r\n                $(\"#tmBlockRecord\").show();\r\n                $(\"#tmBlockHealth\").show();\r\n                $(\"#tmBlockEffect\").show();\r\n                \r\n\r\n                $scope.RemoveApplyRecord = function (record) {\r\n                    var postData = {};\r\n                    postData[\"I\"] = record.I;\r\n\r\n                    return;\r\n\r\n                    $http({\r\n                        method: 'POST',\r\n                        url: \"/Vaccination/RecordM/ApplyHealth_RemoveOP.aspx\",\r\n                        data: $.param(postData),\r\n                        headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                    })\r\n                   .success(function (data, status, headers, config) {\r\n                       data.chk = data.chk || 0;\r\n                       if (data.chk > 0) {\r\n                           angular.forEach($scope.TM.ApplyHealth, function (value, key) {\r\n                               if (value.I == record.I) {\r\n                                   $scope.TM.ApplyHealth.splice(key, 1);\r\n                               }\r\n                           });\r\n                           alert('儲存成功');\r\n                       }\r\n                       else {\r\n                           alert('儲存失敗');\r\n                       }\r\n                   })\r\n                   .error(function (data, status, headers, config) {\r\n                   });\r\n                };\r\n\r\n\r\n                $scope.RemoveApplyHealth = function (record) {\r\n                    var postData = {};\r\n                    postData[\"I\"] = record.I;\r\n\r\n                    $http({\r\n                        method: 'POST',\r\n                        url: \"/Vaccination/RecordM/ApplyHealth_RemoveOP.aspx\",\r\n                        data: $.param(postData),\r\n                        headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                    })\r\n                   .success(function (data, status, headers, config) {\r\n                       data.chk = data.chk || 0;\r\n                       if (data.chk > 0) {\r\n                           angular.forEach($scope.TM.ApplyHealth, function (value, key) {\r\n                               if (value.I == record.I) {\r\n                                   $scope.TM.ApplyHealth.splice(key, 1);\r\n                               }\r\n                           });\r\n                           alert('儲存成功');\r\n                       }\r\n                       else {\r\n                           alert('儲存失敗');\r\n                       }\r\n                   })\r\n                   .error(function (data, status, headers, config) {\r\n                   });\r\n                };\r\n\r\n                $scope.RemoveApplyEffect = function (record) {\r\n                    var postData = {};\r\n                    postData[\"i\"] = record.I;\r\n                    console.log(record.I);\r\n                    $http({\r\n                        method: 'POST',\r\n                        url: \"/Vaccination/RecordM/ApplyEffect_RemoveOP.aspx\",\r\n                        data: $.param(postData),\r\n                        headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                    })\r\n                   .success(function (data, status, headers, config) {\r\n                       data.chk = data.chk || 0;\r\n                       if (data.chk > 0) {\r\n                           angular.forEach($scope.TM.ApplyEffect, function (value, key) {\r\n                               if (value.I == record.I) {\r\n                                   $scope.TM.ApplyEffect.splice(key, 1);\r\n                               }\r\n                           });\r\n                           alert('儲存成功');\r\n                       }\r\n                       else {\r\n                           alert('儲存失敗');\r\n                       }\r\n                   })\r\n                   .error(function (data, status, headers, config) {\r\n                   });\r\n                };\r\n\r\n                $scope.goHealth = function (record) {\r\n                    var obj = {};\r\n                    obj[\"uu\"] = record[\"I\"];\r\n                    TPM.openWindowWithPost(\"/Vaccination/RecordM/ApplyHealth.aspx\", \"ApplyHealth\", 920, 450, obj);\r\n                }\r\n\r\n                $scope.goRecord = function (record) {\r\n                    var obj = {};\r\n                    obj[\"c\"] = CC;\r\n                    obj[\"i\"] = II;\r\n                    obj[\"r\"] = RR;\r\n                    obj[\"a\"] = AA;\r\n                    obj[\"uu\"] = record[\"I\"];\r\n                    TPM.openWindowWithPost(\"/Vaccination/RecordM/ApplyRecord.aspx\", \"ApplyRecord\", 930, 330, obj);\r\n                }\r\n\r\n                $scope.goEffect = function (record) {\r\n                    var obj = {};\r\n                    obj[\"uu\"] = record[\"I\"];\r\n                    TPM.openWindowWithPost(\"/Vaccination/RecordM/ApplyEffect.aspx\", \"ApplyEffect\", 930, 630, obj);\r\n                }\r\n\r\n}]);"]}