/*! NIIS 2016-05-09 */

var changeYellowCardUpdateRecord=function(a){$("#YellowCardUpdateRecord").text(a);var b=document.querySelector("section"),c=angular.element(b).scope();c.$apply(function(){c.VM.u.HY=1,$("#NoYellowCardUpdateRecord").hide(),$("#YellowCardUpdateRecord").show()})},changeStoolCard=function(a){var b=document.querySelector("section"),c=angular.element(b).scope();c.$apply(function(){1==a.Add?c.TM.scAry.push(a):angular.forEach(c.TM.scAry,function(b,c){b.I==a.I&&(b.SC=a.SC,b.CD=a.CD)})})},changeCaseUserRemark=function(a){$("#CaseUserRemark").text(a)};$(function(){$(document).on("click","#addBtn",function(a){return location.href="/Vaccination/RecordM/RegisterData_Add.aspx",a.preventDefault(),!1}),$(document).on("click","#lastBtn",function(a){return history.go(-1),a.preventDefault(),!1})}),angular.module("MyApp",["PageM","FilterM","ToolM"]).controller("MyController",["$scope","PageProvider","ToolProvider","$http",function(a,b,c,d){a.PM=b,a.TM={},a.TM.data=tbAry,a.TM.scAry=scAry,a.TM.fnAry=fnAry,a.VM={},a.VM.u=uJson,a.VM.u.HY?$("#YellowCardUpdateRecord").show():(a.VM.u.HY=0,$("#NoYellowCardUpdateRecord").show()),a.VM.title="",a.VM.publishState="0",a.VM.u.FN="0",a.TM.fnAry=a.TM.fnAry||[];var e=!1;a.TM.fnAry.length>0?(a.VM.u.FN="1",e=!0):(a.VM.u.FN="0",e=!1),$("#cbEver").prop("checked",e),a.openStool=function(a){var b={};b.c=CC,b.i=a,c.openWindowWithPost("/Vaccination/RecordM/RegisterData_Detail_StoolCard.aspx","RegisterData_Detail_StoolCard",610,300,b)},a.goStool=function(a){var b={};b.s=a,b.c=CC,d({method:"POST",url:"/Vaccination/RecordM/RegisterData_Detail_StoolOP.aspx",data:$.param(b),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a,b,c,d){}).error(function(a,b,c,d){})},a.goFlu=function(b){var c={};c.f=1==a.VM.u.FN?1:0,c.c=CC,d({method:"POST",url:"/Vaccination/RecordM/RegisterData_Detail_FluOP.aspx",data:$.param(c),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a,b,c,d){}).error(function(a,b,c,d){})},a.goAddYellowCard=function(a){var b={};b.c=CC,c.openWindowWithPost("/Vaccination/RecordM/YellowCard_Add.aspx","YellowCard_Add",610,300,b)},a.goAddRemark=function(a){var b={};b.c=CC,c.openWindowWithPost("/Vaccination/RecordM/CaseUserRemark_Add.aspx","CaseUserRemark_Add",610,300,b)},a.goChooseCate=function(a){var b={};b.c=CC,b.i=a.RID,b.r=a.SRVC,b.ri=a.SRVID,b.a=a.AD,c.openWindowWithPost("/Vaccination/RecordM/ChooseCate.aspx","ChooseCate",610,300,b)},a.goDetail=function(a){var b={};b.c=CC,b.i=a.RID,b.r=a.SRVC,b.a=a.AD,b.ae=encodeURIComponent(a.AE),c.openWindowWithPost("/Vaccination/RecordM/RecordDetail.aspx","RecordDetail",930,450,b)},a.goAddVaccine=function(b){var d=[];angular.forEach(a.TM.data,function(a,b){d.push(a.SRVC)});var e=[];e.a=d,e.c=CC,c.openWindowWithPost("/Vaccination/RecordM/AddVaccine.aspx","AddVaccine",930,450,e)},a.getClass=function(a){var b="";switch(a.CC){case 1:b="yellowcolor";break;case 2:b="pinkcolor"}return b},a.goPrint=function(){var a='<section class="Content"><div class="listTb">';a+=$("section:first").html(),a+="</section></div>",c.popPrint(a,["/css/design.css"])}}]);var getRecordDataID=function(a){var b=document.querySelector("section"),c=angular.element(b).scope();c.$apply(function(){var b=!0;angular.forEach(c.TM.data,function(c,d){b&&a.SCode==c.SRVC&&(c.RID=a.RID,c.VBID=a.VBID,b=!1)})})},AddApplyRecord=function(a){if(null!=a){var b=document.querySelector("section"),c=angular.element(b).scope();c.$apply(function(){var b=!0;angular.forEach(c.TM.data,function(c,d){b&&c.RID==a.RID&&(c.CD=a.CD,c.VB=a.VB,c.ID=a.ID,c.ON=a.ON)})})}},getNewVaccine=function(a){var b={YMID:0,RID:a.I,AE:"",P:0,SRVID:0,SRVC:a.R,ID:null,CD:null,OI:0,CT:"",VB:"",AD:null,ON:"",CC:0,IR:!1},c=document.querySelector("section"),d=angular.element(c).scope();d.$apply(function(){var a=0;angular.forEach(d.TM.data,function(a,b){if(0==c&&null!=a.ID)var c=b}),d.TM.data.splice(a,0,b)})};
//# sourceMappingURL=RegisterData_Detail.min.js.map