{"version":3,"sources":["ChooseCate.src.js"],"names":["$","CC","II","RR","AA","alert","window","close","document","on","e","preventDefault","popUpWindow","url","title","w","h","left","screen","width","top","height","open","openWindowWithPost","keys","values","newWindow","openedWindows","push","winUnload","html","length","i","write","goHealth","RRI","goRecord","goEffect","popOpenedWindows","name","each","index","item","splice","onbeforeunload","join","replace"],"mappings":";;AAAAA,EAAE,WACY,GAANC,IAAiB,GAANC,IAAiB,IAANC,IAAkB,IAANC,KAClCC,MAAM,UAAWC,OAAOC,SAG5BP,EAAEQ,UAAUC,GAAG,QAAS,YAAa,SAAUC,GAG3C,MAFAJ,QAAOC,QACPG,EAAEC,kBACK,KAMf,IAAIC,aAAc,SAAUC,EAAKC,EAAOC,EAAGC,GACvC,GAAIC,GAAQC,OAAOC,MAAQ,EAAMJ,EAAI,EACjCK,EAAOF,OAAOG,OAAS,EAAML,EAAI,CACrC,OAAOV,QAAOgB,KAAKT,EAAKC,EAAO,sHAAwHC,EAAI,YAAcC,EAAI,SAAWI,EAAM,UAAYH,IAG1MM,mBAAqB,SAAUV,EAAKC,EAAOC,EAAGC,EAAGQ,EAAMC,GACvD,GAAIC,GAAYd,YAAYC,EAAKC,EAAOC,EAAGC,EAI3C,IAFAW,cAAcC,KAAKd,GACnBe,aACKH,EAAW,OAAO,CACvB,IAAII,GAAO,EAIX,IAHAA,GAAQ,oEAAsEjB,EAAM,wBACpFW,EAAOA,MACPC,EAASA,MACLD,GAAQC,GAAWD,EAAKO,QAAUN,EAAOM,OACzC,IAAK,GAAIC,GAAI,EAAGA,EAAIR,EAAKO,OAAQC,IAC7BF,GAAQ,8BAAgCN,EAAKQ,GAAK,YAAcP,EAAOO,GAAK,KAGpF,OAFAF,IAAQ,4GACRJ,EAAUlB,SAASyB,MAAMH,GAClBJ,GAePQ,SAAW,WAEX,GAAIV,MACAC,IACJD,GAAK,GAAK,IACVA,EAAK,GAAK,IACVA,EAAK,GAAK,IACVA,EAAK,GAAK,KACVA,EAAK,GAAK,IACVC,EAAO,GAAKxB,GACZwB,EAAO,GAAKvB,GACZuB,EAAO,GAAKtB,GACZsB,EAAO,GAAKU,IACZV,EAAO,GAAKrB,GACZmB,mBAAmB,wCAAyC,cAAe,IAAK,IAAKC,EAAMC,IAM3FW,SAAW,WAEX,GAAIZ,MACAC,IACJD,GAAK,GAAK,IACVA,EAAK,GAAK,IACVA,EAAK,GAAK,IACVA,EAAK,GAAK,KACVA,EAAK,GAAK,IACVC,EAAO,GAAKxB,GACZwB,EAAO,GAAKvB,GACZuB,EAAO,GAAKtB,GACZsB,EAAO,GAAKU,IACZV,EAAO,GAAKrB,GACZmB,mBAAmB,wCAAyC,cAAe,IAAK,IAAKC,EAAMC,IAM3FY,SAAW,WAEX,GAAIb,MACAC,IACJD,GAAK,GAAK,IACVA,EAAK,GAAK,IACVA,EAAK,GAAK,IACVA,EAAK,GAAK,KACVA,EAAK,GAAK,IACVC,EAAO,GAAKxB,GACZwB,EAAO,GAAKvB,GACZuB,EAAO,GAAKtB,GACZsB,EAAO,GAAKU,IACZV,EAAO,GAAKrB,GACZmB,mBAAmB,wCAAyC,cAAe,IAAK,IAAKC,EAAMC,IAQ3FE,iBASAW,iBAAmB,SAAUC,GAE7BvC,EAAEwC,KAAKb,cAAe,SAAUc,EAAOC,IAE/BH,EAAOG,IACPf,cAAcgB,OAAOF,EAAO,KAIpCZ,aAIAA,UAAW,WAIPF,cAAcI,OAAS,EACvBzB,OAAOsC,eAAiB,WACpB,MAAO,QAAUjB,cAAckB,KAAK,KAAKC,QAAQ,cAAe,QAAQA,QAAQ,cAAe,QAAQA,QAAQ,cAAe,SAAW,OAI7IxC,OAAOsC,eAAiB","file":"ChooseCate.min.js","sourcesContent":["$(function () {\r\n    if (CC == 0 || II == 0 || RR == \"\" || AA == \"\") {\r\n        alert('資料取得失敗'); window.close();\r\n    }\r\n\r\n    $(document).on(\"click\", \"#closeBtn\", function (e) {\r\n        window.close();\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    //history.replaceState(null, document.title, location.href);\r\n});\r\n\r\nvar popUpWindow = function (url, title, w, h) {\r\n    var left = (screen.width / 2) - (w / 2);\r\n    var top = (screen.height / 2) - (h / 2);\r\n    return window.open(url, title, 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);\r\n}\r\n\r\nvar openWindowWithPost = function (url, title, w, h, keys, values) {\r\n    var newWindow = popUpWindow(url, title, w, h);\r\n    //console.log(title);\r\n    openedWindows.push(title);\r\n    winUnload();\r\n    if (!newWindow) return false;\r\n    var html = \"\";\r\n    html += \"<html><head></head><body><form id='formid' method='post' action='\" + url + \"' autocomplete='off'>\";\r\n    keys = keys || [];\r\n    values = values || [];\r\n    if (keys && values && (keys.length == values.length))\r\n        for (var i = 0; i < keys.length; i++)\r\n            html += \"<input type='hidden' name='\" + keys[i] + \"' value='\" + values[i] + \"'/>\";\r\n    html += \"</form><script type='text/javascript'>document.getElementById(\\\"formid\\\").submit()</script></body></html>\";\r\n    newWindow.document.write(html);\r\n    return newWindow;\r\n}\r\n\r\n\r\n//var getQueryVariable = function (variable) {\r\n//    var query = window.location.search.substring(1);\r\n//    var vars = query.split(\"&\");\r\n//    for (var i = 0; i < vars.length; i++) {\r\n//        var pair = vars[i].split(\"=\");\r\n//        if (pair[0] == variable) {\r\n//            return pair[1];\r\n//        }\r\n//    }\r\n//}\r\n\r\nvar goHealth = function ()\r\n{\r\n    var keys = [];\r\n    var values = [];\r\n    keys[0] = \"c\";\r\n    keys[1] = \"i\";\r\n    keys[2] = \"r\";\r\n    keys[3] = \"ri\";\r\n    keys[4] = \"a\";\r\n    values[0] = CC;\r\n    values[1] = II;\r\n    values[2] = RR;\r\n    values[3] = RRI;\r\n    values[4] = AA;\r\n    openWindowWithPost(\"/Vaccination/RecordM/ApplyHealth.aspx\", \"ApplyHealth\", 920, 450, keys, values);\r\n\r\n    //var iValue = getQueryVariable(\"i\");\r\n    //popUpWindow(\"/Vaccination/RecordM/ApplyHealth.aspx?i=1\", \"ApplyHealth\", 920,450)\r\n}\r\n\r\nvar goRecord = function () {\r\n\r\n    var keys = [];\r\n    var values = [];\r\n    keys[0] = \"c\";\r\n    keys[1] = \"i\";\r\n    keys[2] = \"r\";\r\n    keys[3] = \"ri\";\r\n    keys[4] = \"a\";\r\n    values[0] = CC;\r\n    values[1] = II;\r\n    values[2] = RR;\r\n    values[3] = RRI;\r\n    values[4] = AA;\r\n    openWindowWithPost(\"/Vaccination/RecordM/ApplyRecord.aspx\", \"ApplyRecord\", 930, 330, keys, values);\r\n\r\n    //var iValue = getQueryVariable(\"i\");\r\n    //popUpWindow(\"/Vaccination/RecordM/ApplyRecord.aspx?i=1\", \"ApplyRecord\", 930, 330)\r\n}\r\n\r\nvar goEffect = function () {\r\n\r\n    var keys = [];\r\n    var values = [];\r\n    keys[0] = \"c\";\r\n    keys[1] = \"i\";\r\n    keys[2] = \"r\";\r\n    keys[3] = \"ri\";\r\n    keys[4] = \"a\";\r\n    values[0] = CC;\r\n    values[1] = II;\r\n    values[2] = RR;\r\n    values[3] = RRI;\r\n    values[4] = AA;\r\n    openWindowWithPost(\"/Vaccination/RecordM/ApplyEffect.aspx\", \"ApplyEffect\", 930, 630, keys, values);\r\n\r\n    //var iValue = getQueryVariable(\"i\");\r\n    //popUpWindow(\"/Vaccination/RecordM/ApplyEffect.aspx?i=1\", \"ApplyEffect\", 930, 630)\r\n}\r\n\r\n\r\n\r\nvar openedWindows = [];\r\n//window._open = window.open; // saving original function\r\n//window.open = function (url, name, params) {\r\n//    window._open(url, name, params);\r\n//    // you can store names also...\r\n//    openedWindows.push(name);\r\n//    winUnload();\r\n//}\r\n\r\nvar popOpenedWindows = function (name) {\r\n    //console.log(openedWindows.length);\r\n    $.each(openedWindows, function (index, item) {\r\n        //console.log(name = item);\r\n        if (name = item) {\r\n            openedWindows.splice(index, 1);\r\n        }\r\n    });\r\n\r\n    winUnload();\r\n};\r\n\r\n\r\nvar winUnload =function()\r\n{\r\n    //console.log(openedWindows.length);\r\n\r\n    if (openedWindows.length > 0) {\r\n        window.onbeforeunload = function () {\r\n            return \"請先關閉 \" + openedWindows.join(\",\").replace(/ApplyHealth/, '健康評估').replace(/ApplyRecord/, '接種登錄').replace(/ApplyHealth/, '副作用登入') + \" 視窗\";\r\n        }\r\n    }\r\n    else {\r\n        window.onbeforeunload = null;\r\n    }\r\n};\r\n\r\n"]}