/*! NIIS 2016-04-13 */

angular.module("ToolM",[]).provider("ToolProvider",function(){this.$get=function(){var a=this;return a.doPOST=function(b,c,d){var e=document.createElement("form");d&&(e=d),e.setAttribute("method","post"),e.setAttribute("action",b),e.setAttribute("style","display:none;");for(var f in c)a.addInput(f,c[f],e);d||document.body.appendChild(e),e.submit()},a.addInput=function(a,b,c){var d=document.createElement("input"),e=document.querySelector("input[name='"+a+"']");e&&(d=e),d.setAttribute("type","hidden"),d.setAttribute("name",a),d.setAttribute("value",b),e||c.appendChild(d)},a.popUpWindow=function(a,b,c,d){var e=screen.width/2-c/2,f=screen.height/2-d/2;return window.open(a,b,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+c+", height="+d+", top="+f+", left="+e)},a.openWindowWithPost=function(b,c,d,e,f){var g=a.popUpWindow(b,c,d,e);if(!g)return!1;var h="";h+="<html><head></head><body><form id='formid' method='post' action='"+b+"' autocomplete='off'>";for(var i in f)h+="<input type='hidden' name='"+i+"' value='"+f[i]+"'/>";return h+="</form><script>document.getElementById('formid').submit();</script></body></html>",g.document.write(h),g},a.popPrint=function(a,b){b=b||[];var c=popUpWindow("","Print",800,600);c.document.write("<html><head><title>列印</title>");for(var d=0;d<b.length;d++)c.document.write('<link rel="stylesheet" href="'+b[d]+'" type="text/css" />');return c.document.write('</head><body class="bodybg">'),c.document.body.innerHTML="",c.document.write(a),c.document.write("</body></html>"),setTimeout(function(){document.close(),c.focus(),c.print(),c.close()},500),!0},a.setData=function(a){try{location.hash=encodeURIComponent(JSON.stringify(a))}catch(b){}},a.getData=function(){try{return JSON.parse(decodeURIComponent(location.hash.substring(1)))}catch(a){return""}},a}});
//# sourceMappingURL=ToolM.js.map