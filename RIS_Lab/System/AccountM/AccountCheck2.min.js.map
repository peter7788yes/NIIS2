{"version":3,"sources":["AccountCheck2.src.js"],"names":["$","checkPWD","val1","val","val2","show","hide","document","on","e","preventDefault","angular","module","controller","$scope","PageProvider","TPM","hotkeys","PM","TM","VM","Oname","checkResultAry","concat","checkResultData","yearSeasonAry","yearSeasonData","selectCheckResult","selectYearSeason","changePage","pageIndex","pgData","genPageData","postData","Uname","replace","filterPageData","data","message","$apply","add","combo","description","allowIn","callback","event","hotkey","focusType","activeElement","type","openOrgs","record","popUpWindow","openDetail","obj","sessionStorage","setItem","openWindowWithPost","openUpload","getCode","code","element","querySelector","value","text","focus","controllerElement","controllerScope","scope","locationObj"],"mappings":";;AAAAA,EAAE,WACE,GAAIC,GAAW,WACX,GAAIC,GAAOF,EAAE,UAAUG,MACnBC,EAAOJ,EAAE,WAAWG,KACpBD,IAAQE,EACRJ,EAAE,WAAWK,OAGbL,EAAE,WAAWM,OAIrBN,GAAEO,UAAUC,GAAG,OAAQ,SAAU,SAAUC,GAKvC,MAHAR,KAEAQ,EAAEC,kBACK,IAGXV,EAAEO,UAAUC,GAAG,OAAQ,UAAW,SAAUC,GAIxC,MAHAR,KAEAQ,EAAEC,kBACK,MAIfC,QAAQC,OAAO,SAAU,QAAQ,QAAS,cAAe,YAC/CC,WAAW,gBAAiB,SAAU,eAAgB,eAAgB,UAAW,SAAUC,EAAQC,EAAcC,EAAKC,GACnHH,EAAOI,GAAKH,EACZD,EAAOK,MACPL,EAAOM,MACPN,EAAOM,GAAGC,MAAQ,GAClBP,EAAOM,GAAGE,kBAAoBC,OAAOC,iBACrCV,EAAOM,GAAGK,iBAAmBF,OAAOG,gBACpCZ,EAAOM,GAAGO,kBAAoB,IAC9Bb,EAAOM,GAAGQ,iBAAmB,IAU7Bd,EAAOe,WAAa,SAAUC,GAC1B9B,EAAE,YAAYK,MACd,IAAI0B,GAASjB,EAAOI,GAAGc,YAAYF,GAC/BG,IACJA,GAAa,GAAInB,EAAOM,GAAGc,MAC3BD,EAAa,GAAInB,EAAOM,GAAGC,MAC3BY,EAAa,GAAIjC,EAAE,WAAWG,MAAMgC,QAAQ,MAAO,IACnDF,EAAa,GAAInB,EAAOM,GAAGQ,iBAC3BK,EAAa,GAAInB,EAAOM,GAAGO,kBAC3BM,EAAWnB,EAAOI,GAAGkB,eAAeL,EAAQE,GAC5CnB,EAAOI,GAAGW,WAAW,wCAAyCI,EAAU,SAAUI,GAC9EvB,EAAOK,GAAGkB,KAAOA,EAAKC,QACtBxB,EAAOyB,OAAO,iBAItBzB,EAAOe,WAAW,GAElBZ,EAAQuB,KACJC,MAAO,QACPC,YAAa,wBACbC,SAAU,QAAS,SAAU,SAAU,YACvCC,SAAU,SAAUC,EAAOC,GACvB,GAAIC,GAAYxC,SAASyC,cAAcC,IACtB,SAAbF,GAAoC,cAAbA,GACvBjC,EAAOe,WAAW,MAK9Bf,EAAOoC,SAAW,SAAUC,GACxBnC,EAAIoC,YAAY,wBAAyB,kBAAmB,IAAK,MAIrEtC,EAAOuC,WAAa,SAAUF,GAC1B,GAAIG,KACJA,GAAO,EAAIH,EAAU,EACrBI,eAAeC,QAAQ,mBAAoBL,EAAY,KACvDI,eAAeC,QAAQ,mBAAoBL,EAAW,IACtDnC,EAAIyC,mBAAmB,6CAA8C,uBAAwB,IAAK,IAAKH,IAG3GxC,EAAO4C,WAAa,SAAUP,GAC1B,GAAIG,KACJA,GAAO,EAAIH,EAAU,EACrBnC,EAAIyC,mBAAmB,6CAA8C,uBAAwB,IAAK,IAAKH,MAMxH,IAAIK,SAAU,SAAUC,GACpB,GAAIC,GAAUtD,SAASuD,cAAc,cACrCD,GAAQE,MAAQH,EAAKI,KACrBH,EAAQI,OACR,IAAIC,GAAoB3D,SAASuD,cAAc,WAC3CK,EAAkBxD,QAAQkD,QAAQK,GAAmBE,OACzDD,GAAgB5B,OAAO,WACnB4B,EAAgB/C,GAAGiD,YAAcT,EACjCO,EAAgB/C,GAAGC,MAAQuC,EAAKI","file":"AccountCheck2.min.js","sourcesContent":["$(function () {\r\n    var checkPWD = function () {\r\n        var val1 = $(\"#tbPWD\").val();\r\n        var val2 = $(\"#tbPWD2\").val();\r\n        if (val1 != val2) {\r\n            $(\"#notPWD\").show();\r\n        }\r\n        else {\r\n            $(\"#notPWD\").hide();\r\n        }\r\n    };\r\n\r\n    $(document).on(\"blur\", \"#tbPWD\", function (e) {\r\n\r\n        checkPWD();\r\n\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n    $(document).on(\"blur\", \"#tbPWD2\", function (e) {\r\n        checkPWD();\r\n\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n});\r\n\r\nangular.module(\"MyApp\", [\"PageM\",\"ToolM\", \"cfp.hotkeys\", \"FilterM\"])\r\n         .controller(\"MyController\", [\"$scope\", \"PageProvider\", \"ToolProvider\", \"hotkeys\", function ($scope, PageProvider, TPM, hotkeys) {\r\n             $scope.PM = PageProvider;\r\n             $scope.TM = {};\r\n             $scope.VM = {};\r\n             $scope.VM.Oname = \"\";\r\n             $scope.VM.checkResultAry = [].concat(checkResultData);\r\n             $scope.VM.yearSeasonAry = [].concat(yearSeasonData);\r\n             $scope.VM.selectCheckResult = \"0\";\r\n             $scope.VM.selectYearSeason = \"0\";\r\n\r\n             //$(\"#tmBlock\").show();\r\n             //$scope.PM.changePage(\"\", tbData, function (data) {\r\n             //    $scope.TM.data = data.message;\r\n             //    history.replaceState({ \"pageIndex\": 1 }, document.title, location.href);\r\n             //});\r\n\r\n             //$scope.changePage(1);\r\n\r\n             $scope.changePage = function (pageIndex) {\r\n                 $(\"#tmBlock\").show();\r\n                 var pgData = $scope.PM.genPageData(pageIndex);\r\n                 var postData = {};\r\n                 postData[\"an\"] = $scope.VM.Uname;\r\n                 postData[\"on\"] = $scope.VM.Oname;\r\n                 postData[\"cy\"] = $('#tbDate').val().replace(/å¹´/ig, \"\");\r\n                 postData[\"ys\"] = $scope.VM.selectYearSeason;\r\n                 postData[\"cp\"] = $scope.VM.selectCheckResult;\r\n                 postData = $scope.PM.filterPageData(pgData, postData);\r\n                 $scope.PM.changePage(\"/System/AccountM/AccountCheck2OP.aspx\", postData, function (data) {\r\n                     $scope.TM.data = data.message;\r\n                     $scope.$apply(function () { });\r\n                 });\r\n             };\r\n\r\n             $scope.changePage(1);\r\n\r\n             hotkeys.add({\r\n                 combo: 'enter',\r\n                 description: 'Description goes here',\r\n                 allowIn: ['INPUT', \"BUTTON\", 'SELECT', 'TEXTAREA'],\r\n                 callback: function (event, hotkey) {\r\n                     var focusType = document.activeElement.type;\r\n                     if (focusType == \"text\" || focusType == \"select-one\") {\r\n                         $scope.changePage(1);\r\n                     }\r\n                 }\r\n             });\r\n\r\n             $scope.openOrgs = function (record) {\r\n                 TPM.popUpWindow(\"/SelectSingleOrg.aspx\", \"SelectSingleOrg\", 620, 450);\r\n\r\n             };\r\n\r\n             $scope.openDetail = function (record) {\r\n                 var obj = {};\r\n                 obj[\"i\"] = record[\"I\"];\r\n                 sessionStorage.setItem(\"AccountCheck2_on\", record[\"CON\"]);\r\n                 sessionStorage.setItem(\"AccountCheck2_cy\", record[\"CY\"]);\r\n                 TPM.openWindowWithPost(\"/System/AccountM/AccountCheck2_Detail.aspx\", \"AccountCheck2_Detail\", 620, 450, obj);\r\n             };\r\n\r\n             $scope.openUpload = function (record) {\r\n                 var obj = {};\r\n                 obj[\"i\"] = record[\"I\"];\r\n                 TPM.openWindowWithPost(\"/System/AccountM/AccountCheck2_Upload.aspx\", \"AccountCheck2_Upload\", 620, 450, obj);\r\n             };\r\n\r\n}]);\r\n\r\n\r\nvar getCode = function (code) {\r\n    var element = document.querySelector('#tbLocation');\r\n    element.value = code.text;\r\n    element.focus();\r\n    var controllerElement = document.querySelector('section');\r\n    var controllerScope = angular.element(controllerElement).scope();\r\n    controllerScope.$apply(function () {\r\n        controllerScope.VM.locationObj = code;\r\n        controllerScope.VM.Oname = code.text;\r\n    });\r\n};"]}