/*! NIIS 2016-04-13 */

$(function(){$(document).on("click","#lastBtn",function(a){return history.go(-1),a.preventDefault(),!1}),$("#tmBlock").show()}),angular.module("MyApp",["FilterM"]).controller("MyController",["$scope","$http","$filter",function(a,b,c){a.TM={},a.VM={},a.VM.Uname="",a.VM.Oname="",a.VM.fList=[],a.VM.fAry=fAry,a.VM.iAry=iAry;var d=0;angular.forEach(a.VM.fAry,function(b,c){var e={};e.F=b,e.I=a.VM.iAry[d],a.VM.fList.push(e),d++}),$("#tmBlock").show(),a.getCheck=function(b){var c="";return $.each(a.VM.checkAry,function(a,d){d.EV==b.C&&(c=d.EN)}),c},a.goDelete=function(e,f){if(a.VM.fList.length<=1)return void alert("最少需要一個附檔，所以無法刪除");var g={};g.i=e.I,g.ui=d,b({method:"POST",url:"/System/AccountM/AccountCheck_Detail_DeleteDocFileOP.aspx",data:$.param(g),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(b,d,f,g){b.FileCount=b.FileCount||0,b.Chk=b.Chk||0,0==b.FileCount?alert("無附檔，刪除失敗"):1==b.FileCount?alert("最少需要一個附檔，所以無法刪除"):b.Chk>0?(alert("刪除成功"),a.VM.fList=c("filter")(a.VM.fList,{I:"!"+e.I}),a.$apply(function(){})):alert("刪除失敗")}).error(function(a,b,c,d){})}}]);
//# sourceMappingURL=AccountCheck_Detail.min.js.map