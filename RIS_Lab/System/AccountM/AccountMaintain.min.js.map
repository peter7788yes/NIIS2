{"version":3,"sources":["AccountMaintain.src.js"],"names":["$","document","on","e","location","href","preventDefault","angular","module","controller","$scope","PageProvider","TPM","PM","TM","VM","Uname","Oname","roleAry","concat","roleData","enableAry","enableData","checkAry","checkData","logoutAry","logoutData","selectRole","selectEnable","selectCheck","selectLogout","selectSpc","changePage","pageIndex","show","pgData","genPageData","postData","filterPageData","data","message","$apply","getEnable","record","key","IE","rtn","each","index","item","EV","EN","getCheck","C","goDetail","save","obj","doPOST","querySelector","goMaintain","openOrgs","popUpWindow","pgNow","setData","doReset","hash","length","getData","getCode","code","element","value","text","focus","controllerElement","controllerScope","scope","locationObj"],"mappings":"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","file":"AccountMaintain.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#addBtn\", function (e) {\r\n        location.href = \"/System/AccountM/AccountMaintain_Add.aspx\";\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n});\r\n\r\nangular.module(\"MyApp\", [\"PageM\",\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\", \"PageProvider\", \"ToolProvider\", function ($scope, PageProvider,TPM) {\r\n             $scope.PM = PageProvider;\r\n             $scope.TM = {};\r\n             $scope.VM = {};\r\n             $scope.VM.Uname = \"\";\r\n             $scope.VM.Oname = \"\";\r\n             $scope.VM.roleAry = [].concat(roleData);\r\n             $scope.VM.enableAry = [].concat(enableData);\r\n             $scope.VM.checkAry = [].concat(checkData);\r\n             $scope.VM.logoutAry = [].concat(logoutData);\r\n             $scope.VM.selectRole = \"0\";\r\n             $scope.VM.selectEnable = \"0\";\r\n             $scope.VM.selectCheck = \"0\";\r\n             $scope.VM.selectLogout = \"0\";\r\n             $scope.VM.selectSpc = \"0\";\r\n\r\n             $scope.changePage = function (pageIndex) {\r\n                 $(\"#tmBlock\").show();\r\n                 var pgData = $scope.PM.genPageData(pageIndex);\r\n                 var postData = {};\r\n                 postData[\"an\"] = $scope.VM.Uname;\r\n                 postData[\"on\"] = $scope.VM.Oname;\r\n                 postData[\"es\"] = $scope.VM.selectEnable;\r\n                 postData[\"cs\"] = $scope.VM.selectCheck;\r\n                 postData[\"lp\"] = $scope.VM.selectLogout;\r\n                 postData[\"spc\"] = $scope.VM.selectSpc;\r\n\r\n                 postData = $scope.PM.filterPageData(pgData, postData);\r\n                 $scope.PM.changePage(\"/System/AccountM/AccountMaintainOP.aspx\", postData, function (data) {\r\n                     $scope.TM.data = data.message;\r\n                     $scope.$apply(function () { });\r\n                 });\r\n             };\r\n\r\n             $scope.getEnable = function (record) {\r\n                 var key = 2;\r\n                 if (record.IE == true)\r\n                     key = 1;\r\n                 var rtn = \"\";\r\n                 $.each($scope.VM.enableAry, function (index, item) {\r\n                     if (item.EV == key) {\r\n                         rtn = item.EN;\r\n                     }\r\n                 });\r\n                 return rtn;\r\n             };\r\n\r\n             $scope.getCheck = function (record) {\r\n                 var rtn = \"\";\r\n                 $.each($scope.VM.checkAry, function (index, item) {\r\n                     if (item.EV == record.C) {\r\n                         rtn = item.EN;\r\n                     }\r\n                 });\r\n                 return rtn;\r\n             };\r\n\r\n             $scope.goDetail = function (record) {\r\n                 $scope.save();\r\n                 obj = {};\r\n                 obj[\"i\"] = record[\"I\"];\r\n                 TPM.doPOST(\"/System/AccountM/AccountMaintain_Detail.aspx\", obj, document.querySelector(\"#MyForm\"));\r\n             };\r\n\r\n             $scope.goMaintain = function (record) {\r\n                 $scope.save();\r\n                 obj = {};\r\n                 obj[\"i\"] = record[\"I\"];\r\n                 TPM.doPOST(\"/System/AccountM/AccountMaintain_Maintain.aspx\", obj, document.querySelector(\"#MyForm\"));\r\n             };\r\n\r\n             $scope.openOrgs = function (record) {\r\n                 TPM.popUpWindow(\"/SelectSingleOrg.aspx\", \"SelectSingleOrg\", 620, 450);\r\n             };\r\n\r\n\r\n             $scope.save = function () {\r\n                 var data = {};\r\n                 data[\"Uname\"] = $scope.VM.Uname;\r\n                 data[\"Oname\"] = $scope.VM.Oname;\r\n                 data[\"selectEnable\"] = $scope.VM.selectEnable;\r\n                 data[\"selectCheck\"] = $scope.VM.selectCheck;\r\n                 data[\"selectLogout\"] = $scope.VM.selectLogout;\r\n                 data[\"selectSpc\"] = $scope.VM.selectSpc;\r\n                 data['pgNow'] = $scope.PM.pgNow;\r\n                 TPM.setData(data);\r\n             };\r\n\r\n             $scope.doReset = function () {\r\n                 $scope.VM.Uname='';\r\n                 $scope.VM.Oname='';\r\n                 $scope.VM.selectEnable='0';\r\n                 $scope.VM.selectCheck='0';\r\n                 $scope.VM.selectLogout='0';\r\n                 $scope.VM.selectSpc='0';\r\n                 $scope.changePage(1);\r\n             };\r\n\r\n             if (location.hash.length > 0) {\r\n                 var data = TPM.getData();\r\n                 $scope.VM.Uname = data.Uname;\r\n                 $scope.VM.Oname = data.Oname;\r\n                 $scope.VM.selectEnable = data.selectEnable;\r\n                 $scope.VM.selectCheck = data.selectCheck;\r\n                 $scope.VM.selectLogout = data.selectLogout;\r\n                 $scope.VM.selectSpc = data.selectSpc;\r\n                 $scope.changePage(data.pgNow);\r\n\r\n             }\r\n             else {\r\n                 $scope.changePage(1);\r\n             }\r\n\r\n}]);\r\n\r\n\r\nvar getCode = function (code) {\r\n    var element = document.querySelector('#tbLocation');\r\n    element.value = code.text;\r\n    element.focus();\r\n    var controllerElement = document.querySelector('section');\r\n    var controllerScope = angular.element(controllerElement).scope();\r\n    controllerScope.$apply(function () {\r\n        controllerScope.VM.locationObj = code;\r\n        controllerScope.VM.Oname = code.text;\r\n    });\r\n};\r\n"]}