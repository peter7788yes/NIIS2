{"version":3,"sources":["SchoolCode_Add.src.js"],"names":["$","document","on","e","history","go","preventDefault","angular","module","controller","$scope","TPM","$http","VM","CountyAry","TownAry","VillageAry","SelectCounty","SelectTown","SelectVillage","BindCounty","postData","method","url","data","param","headers","Content-Type","success","status","config","length","concat","error","SelectCountyChange","SelectTownChange","openOrgs","popUpWindow","refresh","location","val","Vaccine","VaccineIDs","setTimeout","$apply","openAddVaccine","i"],"mappings":";;AAAAA,EAAE,WACEA,EAAEC,UAAUC,GAAG,QAAS,WAAY,SAAUC,GAG1C,MAFAC,SAAQC,GAAG,IACXF,EAAEG,kBACK,MAKfC,QAAQC,OAAO,SAAU,UACfC,WAAW,gBAAiB,SAAU,eAAgB,QAAS,SAAUC,EAAOC,EAAKC,GAClFF,EAAOG,MAEPH,EAAOG,GAAGC,aACVJ,EAAOG,GAAGE,WACVL,EAAOG,GAAGG,cAEVN,EAAOG,GAAGI,aAAe,GACzBP,EAAOG,GAAGK,WAAa,GACvBR,EAAOG,GAAGM,cAAgB,GAE1BT,EAAOU,WAAa,WAChB,GAAIC,KACJA,GAAY,EAAI,SAEhBT,GACIU,OAAQ,OACRC,IAAK,8BACLC,KAAMxB,EAAEyB,MAAMJ,GACdK,SAAWC,eAAgB,uCAE/BC,QAAQ,SAAUJ,EAAMK,EAAQH,EAASI,GACtCN,EAAOA,MACHA,EAAKO,OAAS,GACdrB,EAAOG,GAAGC,aAAekB,OAAOR,GAChCd,EAAOG,GAAGI,aAAe,KAGzBP,EAAOG,GAAGC,aACVJ,EAAOG,GAAGI,aAAe,MAG/BgB,MAAM,SAAUT,EAAMK,EAAQH,EAASI,OAI5CpB,EAAOwB,mBAAqB,WACxB,GAAIb,KACJA,GAAY,EAAI,OAChBA,EAAY,EAAIX,EAAOG,GAAGI,aAE1BL,GACIU,OAAQ,OACRC,IAAK,8BACLC,KAAMxB,EAAEyB,MAAMJ,GACdK,SAAWC,eAAgB,uCAEhCC,QAAQ,SAAUJ,EAAMK,EAAQH,EAASI,GACtCN,EAAOA,MACHA,EAAKO,OAAS,GACdrB,EAAOG,GAAGE,WAAaiB,OAAOR,GAC9Bd,EAAOG,GAAGK,WAAa,KAGvBR,EAAOG,GAAGE,WACVL,EAAOG,GAAGK,WAAa,MAI7Be,MAAM,SAAUT,EAAMK,EAAQH,EAASI,OAK3CpB,EAAOyB,iBAAmB,WACtB,GAAId,KACJA,GAAY,EAAI,UAChBA,EAAY,EAAIX,EAAOG,GAAGK,WAE1BN,GACIU,OAAQ,OACRC,IAAK,8BACLC,KAAMxB,EAAEyB,MAAMJ,GACdK,SAAWC,eAAgB,uCAEhCC,QAAQ,SAAUJ,EAAMK,EAAQH,EAASI,GACtCN,EAAOA,MACHA,EAAKO,OAAS,GACdrB,EAAOG,GAAGG,cAAgBgB,OAAOR,GACjCd,EAAOG,GAAGM,cAAgB,KAG1BT,EAAOG,GAAGG,cACVN,EAAOG,GAAGM,cAAgB,MAIhCc,MAAM,SAAUT,EAAMK,EAAQH,EAASI,OAK3CpB,EAAO0B,SAAW,WACdzB,EAAI0B,YAAY,wBAAyB,kBAAmB,IAAK,MAGrE3B,EAAO4B,QAAU,WACb,GAAIC,GAAWvC,EAAE,eAAewC,MAC5BC,EAAUzC,EAAE,cAAcwC,MAC1BE,EAAa1C,EAAE,iBAAiBwC,KAEpCG,YAAW,WACPjC,EAAOkC,OAAO,WACVlC,EAAOG,GAAG0B,SAAWA,EACrB7B,EAAOG,GAAG4B,QAAUA,EACpB/B,EAAOG,GAAG6B,WAAaA,KAE5B,IAGPhC,EAAOU,aAEPV,EAAOmC,eAAiB,SAAUC,GAC9BnC,EAAI0B,YAAY,6DAA+DS,EAAI,OAAS9C,EAAE,iBAAiBwC,MAAO,aAAc,aAAc,IAAK","file":"SchoolCode_Add.min.js","sourcesContent":["$(function () {\r\n    $(document).on(\"click\", \"#lastBtn\", function (e) {\r\n        history.go(-1);\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n\r\n});\r\n\r\nangular.module(\"MyApp\", [\"ToolM\"])\r\n         .controller(\"MyController\", [\"$scope\", \"ToolProvider\", \"$http\", function ($scope,TPM, $http) {\r\n             $scope.VM = {};\r\n\r\n             $scope.VM.CountyAry = [];\r\n             $scope.VM.TownAry = [];\r\n             $scope.VM.VillageAry = [];\r\n\r\n             $scope.VM.SelectCounty = \"\";\r\n             $scope.VM.SelectTown = \"\";\r\n             $scope.VM.SelectVillage = \"\";\r\n\r\n             $scope.BindCounty = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"County\";\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n                    data = data || [];\r\n                    if (data.length > 0) {\r\n                        $scope.VM.CountyAry = [].concat(data);\r\n                        $scope.VM.SelectCounty = \"\";\r\n                    }\r\n                    else {\r\n                        $scope.VM.CountyAry = [];\r\n                        $scope.VM.SelectCounty = \"\";\r\n                    }\r\n                })\r\n                 .error(function (data, status, headers, config) {\r\n                 });\r\n             };\r\n\r\n             $scope.SelectCountyChange = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"Town\";\r\n                 postData[\"p\"] = $scope.VM.SelectCounty;\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n               .success(function (data, status, headers, config) {\r\n                   data = data || [];\r\n                   if (data.length > 0) {\r\n                       $scope.VM.TownAry = [].concat(data);;\r\n                       $scope.VM.SelectTown = \"\";\r\n                   }\r\n                   else {\r\n                       $scope.VM.TownAry = [];\r\n                       $scope.VM.SelectTown = \"\";\r\n                   }\r\n\r\n               })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n\r\n             };\r\n\r\n             $scope.SelectTownChange = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"Village\";\r\n                 postData[\"p\"] = $scope.VM.SelectTown;\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n               .success(function (data, status, headers, config) {\r\n                   data = data || [];\r\n                   if (data.length > 0) {\r\n                       $scope.VM.VillageAry = [].concat(data);\r\n                       $scope.VM.SelectVillage = \"\";\r\n                   }\r\n                   else {\r\n                       $scope.VM.VillageAry = [];\r\n                       $scope.VM.SelectVillage = \"\";\r\n                   }\r\n\r\n               })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n             };\r\n\r\n\r\n             $scope.openOrgs = function () {\r\n                 TPM.popUpWindow(\"/SelectSingleOrg.aspx\", \"SelectSingleOrg\", 930, 450);\r\n             };\r\n\r\n             $scope.refresh = function () {\r\n                 var location = $('#tbLocation').val();\r\n                 var Vaccine = $('#tbVaccine').val();\r\n                 var VaccineIDs = $('#hfVaccineIDs').val();\r\n\r\n                 setTimeout(function () {\r\n                     $scope.$apply(function () {\r\n                         $scope.VM.location = location;\r\n                         $scope.VM.Vaccine = Vaccine;\r\n                         $scope.VM.VaccineIDs = VaccineIDs;\r\n                     });\r\n                 }, 1);\r\n             };\r\n\r\n             $scope.BindCounty();\r\n\r\n             $scope.openAddVaccine = function (i) {\r\n                 TPM.popUpWindow(\"/Vaccination/ParameterM/LocationSetting_AddVaccine.aspx?i=\" + i + \"&is=\" + $('#hfVaccineIDs').val(), \"AddVaccine\", \"AddVaccine\", 910, 700)\r\n             };\r\n}]);\r\n\r\n\r\n\r\n"]}