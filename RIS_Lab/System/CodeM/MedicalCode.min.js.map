{"version":3,"sources":["MedicalCode.src.js"],"names":["$","angular","module","controller","$scope","PageProvider","TPM","$http","hotkeys","PM","TM","VM","AN","ChooseAddress","businessStateAry","concat","BgState","CountyAry","TownAry","VillageAry","businessState","SelectCounty","SelectTown","SelectVillage","BindCounty","postData","method","url","data","param","headers","Content-Type","success","status","config","length","SelectCountyChange","error","SelectTownChange","changePage","pageIndex","noHistory","show","pgData","genPageData","filterPageData","message","$apply","add","combo","description","allowIn","callback","event","hotkey","focusType","document","activeElement","type","doReset","goDetail","record","pgNow","setData","obj","doPOST","querySelector","location","hash","getData"],"mappings":"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","file":"MedicalCode.min.js","sourcesContent":["$(function () {\r\n});\r\n\r\nangular.module(\"MyApp\", [\"PageM\",\"ToolM\", \"cfp.hotkeys\"])\r\n         .controller(\"MyController\", [\"$scope\", \"PageProvider\", \"ToolProvider\", \"$http\", \"hotkeys\", function ($scope, PageProvider,TPM, $http, hotkeys) {\r\n\r\n             $scope.PM = PageProvider;\r\n             $scope.TM = {};\r\n             $scope.VM = {};\r\n             $scope.VM.AN = \"\";\r\n             $scope.VM.ChooseAddress = false;\r\n             $scope.VM.businessStateAry = [].concat(BgState);\r\n             $scope.VM.CountyAry = [];\r\n             $scope.VM.TownAry = [];\r\n             $scope.VM.VillageAry = [];\r\n\r\n             $scope.VM.businessState = \"0\";\r\n             $scope.VM.SelectCounty = \"0\";\r\n             $scope.VM.SelectTown = \"0\";\r\n             $scope.VM.SelectVillage = \"0\";\r\n\r\n             $scope.BindCounty = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"County\";\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n                    data = data || [];\r\n                    if (data.length > 0) {\r\n                        $scope.VM.CountyAry = [].concat(data);\r\n                        if (!$scope.VM.ChooseAddress) {\r\n                            $scope.VM.SelectCounty = \"0\";\r\n                        }\r\n                        else {\r\n                            $scope.SelectCountyChange();\r\n                        }\r\n                    }\r\n                    else {\r\n                        $scope.VM.CountyAry = [];\r\n                        $scope.VM.SelectCounty = \"0\";\r\n                    }\r\n                })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n\r\n             };\r\n\r\n             $scope.BindCounty();\r\n\r\n             $scope.SelectCountyChange = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"Town\";\r\n                 postData[\"p\"] = $scope.VM.SelectCounty;\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n                .success(function (data, status, headers, config) {\r\n                    data = data || [];\r\n                    if (data.length > 0) {\r\n                        $scope.VM.TownAry = [].concat(data);;\r\n                        if (!$scope.VM.ChooseAddress) {\r\n                            $scope.VM.SelectTown = \"0\";\r\n                        }\r\n                        else {\r\n                            $scope.SelectTownChange();\r\n                        }\r\n                    }\r\n                    else {\r\n                        $scope.VM.TownAry = [];\r\n                        $scope.VM.SelectTown = \"0\";\r\n                    }\r\n                })\r\n                .error(function (data, status, headers, config) {\r\n                });\r\n\r\n             };\r\n\r\n\r\n             $scope.SelectTownChange = function () {\r\n                 var postData = {};\r\n                 postData[\"a\"] = \"Village\";\r\n                 postData[\"p\"] = $scope.VM.SelectTown;\r\n\r\n                 $http({\r\n                     method: 'POST',\r\n                     url: \"/Ashx/SystemAreaCodeOP.ashx\",\r\n                     data: $.param(postData),\r\n                     headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n                 })\r\n               .success(function (data, status, headers, config) {\r\n                   data = data || [];\r\n                   if (data.length > 0) {\r\n                       $scope.VM.VillageAry = [].concat(data);\r\n                       if (!$scope.VM.ChooseAddress) {\r\n                           $scope.VM.SelectVillage = \"0\";\r\n                       }\r\n                       else {\r\n                           $scope.VM.ChooseAddress = false;\r\n                       }\r\n                   }\r\n                   else {\r\n                       $scope.VM.VillageAry = [];\r\n\r\n                   }\r\n               })\r\n               .error(function (data, status, headers, config) {\r\n               });\r\n             };\r\n\r\n             $scope.changePage = function (pageIndex, noHistory) {\r\n                 $(\"#tmBlock\").show();\r\n\r\n                 var pgData = $scope.PM.genPageData(pageIndex);\r\n                 var postData = {};\r\n\r\n                 postData[\"ac\"] = $scope.VM.SelectCounty;\r\n                 postData[\"at\"] = $scope.VM.SelectTown;\r\n                 postData[\"av\"] = $scope.VM.SelectVillage;\r\n                 postData[\"an\"] = $scope.VM.AN;\r\n                 postData[\"bs\"] = $scope.VM.businessState;\r\n\r\n                 postData = $scope.PM.filterPageData(pgData, postData);\r\n\r\n                 $scope.PM.changePage(\"/System/CodeM/MedicalCodeOP.aspx\", postData, function (data) {\r\n                     $scope.TM.data = data.message;\r\n                     $scope.$apply(function () { });\r\n                 });\r\n             };\r\n            \r\n             hotkeys.add({\r\n                 combo: 'enter',\r\n                 description: 'Description goes here',\r\n                 allowIn: ['INPUT', \"BUTTON\", 'SELECT', 'TEXTAREA'],\r\n                 callback: function (event, hotkey) {\r\n                     var focusType = document.activeElement.type;\r\n                     if (focusType == \"text\" || focusType == \"select-one\") {\r\n                         $scope.changePage(1);\r\n                     }\r\n                 }\r\n             });\r\n\r\n             $scope.doReset = function () {\r\n                 $scope.VM.SelectCounty = \"0\";\r\n                 $scope.VM.SelectTown = \"0\";\r\n                 $scope.VM.SelectVillage = \"0\";\r\n                 $scope.VM.AN = \"\";\r\n                 $scope.VM.businessState = \"0\";\r\n                 $scope.changePage(1);\r\n             };\r\n\r\n             $scope.goDetail = function (record) {\r\n                 var data = {};\r\n                 data[\"SelectCounty\"] = $scope.VM.SelectCounty;\r\n                 data[\"SelectTown\"] = $scope.VM.SelectTown;\r\n                 data[\"SelectVillage\"] = $scope.VM.SelectVillage;\r\n                 data[\"businessState\"] = $scope.VM.businessState;\r\n                 data[\"AN\"] = $scope.VM.AN;\r\n                 data['pgNow'] = $scope.PM.pgNow;\r\n                 TPM.setData(data);\r\n\r\n                 var obj = {};\r\n                 obj['i'] = record[\"I\"];\r\n                 TPM.doPOST(\"/System/CodeM/MedicalCode_Detail.aspx\",obj,document.querySelector('#MyForm'));\r\n             };\r\n\r\n             if (location.hash.length > 0) {\r\n                 var data = TPM.getData();\r\n                 $scope.VM.ChooseAddress = true;\r\n                 $scope.VM.SelectCounty = data.SelectCounty;\r\n                 $scope.VM.SelectTown = data.SelectTown;\r\n                 $scope.VM.SelectVillage = data.SelectVillage;\r\n                 $scope.VM.businessState = data.businessState;\r\n                 $scope.VM.AN = data.AN;\r\n                 $scope.changePage(data.pgNow);\r\n\r\n             }\r\n             else {\r\n                 $scope.changePage(1);\r\n             }\r\n}]);\r\n\r\n"]}